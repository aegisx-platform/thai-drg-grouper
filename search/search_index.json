{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Thai DRG Grouper","text":"<p>Multi-version Thai DRG (Diagnosis Related Group) Grouper for Linux, Mac, and Windows.</p> <p>\ud83c\uddf9\ud83c\udded \u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22 (Thai Documentation) - Complete documentation in Thai with detailed examples</p>"},{"location":"#support-this-project","title":"Support This Project","text":"<p>If you find this project helpful, consider supporting its development:</p> <p></p> <p>Your support helps maintain and improve this project! \u2615</p>"},{"location":"#features","title":"Features","text":"<ul> <li>\u2705 Cross-platform - Works on Linux, Mac, Windows</li> <li>\u2705 Multi-version - Run multiple DRG versions simultaneously</li> <li>\u2705 Easy updates - Add new versions with one command</li> <li>\u2705 REST API - FastAPI included with auto-generated docs</li> <li>\u2705 CLI - Full-featured command-line interface</li> <li>\u2705 Batch processing - Process multiple cases at once</li> <li>\u2705 Version comparison - Compare results across versions</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#installation","title":"Installation","text":"<pre><code>pip install thai-drg-grouper\n\n# With API support\npip install thai-drg-grouper[api]\n</code></pre>"},{"location":"#python-library","title":"Python Library","text":"<pre><code>from thai_drg_grouper import ThaiDRGGrouperManager\n\n# Initialize with versions directory\nmanager = ThaiDRGGrouperManager('./data/versions')\n\n# Group a case (uses default version)\nresult = manager.group_latest(\n    pdx='S82201D',        # Principal diagnosis\n    sdx=['E119', 'I10'],  # Secondary diagnoses\n    procedures=['7936'],   # ICD-9-CM procedures\n    age=25,\n    sex='M',\n    los=5\n)\n\nprint(f\"DRG: {result.drg}\")      # 08172\nprint(f\"RW: {result.rw}\")        # 5.0602\nprint(f\"AdjRW: {result.adjrw}\")  # 5.0602\n</code></pre>"},{"location":"#cli","title":"CLI","text":"<pre><code># List installed versions\nthai-drg-grouper list\n\n# Group a case\nthai-drg-grouper group --pdx S82201D --sdx E119,I10 --proc 7936 --los 5\n\n# Start API server\nthai-drg-grouper serve --port 8000\n</code></pre>"},{"location":"#rest-api","title":"REST API","text":"<pre><code># Start server\nthai-drg-grouper serve --port 8000\n\n# Or with uvicorn\nuvicorn thai_drg_grouper.api:app --port 8000\n\n# Or with Docker\ndocker run -p 8000:8000 ghcr.io/aegisx-platform/thai-drg-grouper:latest\n</code></pre> <p>Visit http://localhost:8000/docs for interactive API documentation.</p>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Getting Started - Installation and configuration</li> <li>REST API Reference - Complete HTTP API documentation</li> <li>Python API Reference - Python library documentation</li> <li>Interactive API Docs - Swagger UI (run server first)</li> <li>Thai Documentation - Complete documentation in Thai</li> <li>Thai Examples - 10 detailed usage examples in Thai</li> <li>Contributing - How to contribute</li> <li>Changelog - Version history</li> </ul>"},{"location":"#disclaimer","title":"Disclaimer","text":"<p>This is an implementation based on DBF files from Thai CaseMix Centre, not the official grouper. Always validate results against official TGrp software before production use.</p>"},{"location":"#license","title":"License","text":"<p>MIT License - See LICENSE for details.</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#200-2024-12-28","title":"2.0.0 - 2024-12-28","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>Multi-version DRG support with version manager</li> <li>FastAPI REST API with auto-generated documentation</li> <li>Docker support with multi-platform builds</li> <li>Comprehensive CLI with commands: list, add, download, remove, group, compare, serve, stats</li> <li>Batch processing support</li> <li>Version comparison functionality</li> <li>Cross-platform support (Linux, Mac, Windows)</li> <li>DBF file auto-detection</li> <li>CC/MCC exclusion rules support</li> <li>Patient Complexity Level (PCL) calculation</li> <li>Adjusted RW calculation based on LOS</li> <li>Comprehensive test suite</li> <li>CI/CD workflows with GitHub Actions</li> <li>Documentation with MkDocs Material</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Refactored from single-version to multi-version architecture</li> <li>Improved error handling and validation</li> <li>Enhanced type hints and dataclasses</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>DBF file encoding handling (Windows-874 for Thai)</li> <li>ICD-10 code normalization</li> <li>Procedure code lookup with multiple formats</li> </ul>"},{"location":"changelog/#100-initial-release","title":"1.0.0 - Initial Release","text":"<ul> <li>Basic DRG grouping functionality</li> <li>Single version support</li> <li>Command-line interface</li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>Thank you for your interest in contributing to Thai DRG Grouper! This document provides guidelines for contributing to the project.</p>"},{"location":"contributing/#development-setup","title":"Development Setup","text":""},{"location":"contributing/#1-fork-and-clone","title":"1. Fork and Clone","text":"<pre><code>git clone https://github.com/YOUR_USERNAME/thai-drg-grouper.git\ncd thai-drg-grouper\n</code></pre>"},{"location":"contributing/#2-install-dependencies","title":"2. Install Dependencies","text":"<pre><code>pip install -e .[all]\n</code></pre>"},{"location":"contributing/#3-run-tests","title":"3. Run Tests","text":"<pre><code>pytest tests/ -v\n</code></pre>"},{"location":"contributing/#development-workflow","title":"Development Workflow","text":""},{"location":"contributing/#code-style","title":"Code Style","text":"<p>We use <code>black</code> for formatting and <code>ruff</code> for linting:</p> <pre><code># Format code\nblack src/ tests/\n\n# Check linting\nruff check src/ tests/\n\n# Auto-fix linting issues\nruff check --fix src/ tests/\n</code></pre>"},{"location":"contributing/#testing","title":"Testing","text":"<p>Write tests for all new features:</p> <pre><code># Run all tests\npytest\n\n# Run with coverage\npytest --cov=thai_drg_grouper --cov-report=html\n\n# Run specific test\npytest tests/test_grouper.py::TestGrouper::test_group_fracture -v\n</code></pre>"},{"location":"contributing/#documentation","title":"Documentation","text":"<p>Update documentation for new features:</p> <pre><code># Build docs locally\nmkdocs serve\n\n# View at http://localhost:8000\n</code></pre>"},{"location":"contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Create a Branch: <code>git checkout -b feature/your-feature-name</code></li> <li>Make Changes: Follow code style guidelines</li> <li>Add Tests: Ensure test coverage for new code</li> <li>Update Docs: Document new features</li> <li>Commit: Use clear commit messages</li> <li>Push: <code>git push origin feature/your-feature-name</code></li> <li>Open PR: Create pull request on GitHub</li> </ol>"},{"location":"contributing/#commit-message-guidelines","title":"Commit Message Guidelines","text":"<p>Follow conventional commits:</p> <ul> <li><code>feat:</code> New feature</li> <li><code>fix:</code> Bug fix</li> <li><code>docs:</code> Documentation changes</li> <li><code>test:</code> Test updates</li> <li><code>chore:</code> Maintenance tasks</li> <li><code>refactor:</code> Code refactoring</li> </ul> <p>Example: <pre><code>feat: add support for DRG version 6.5\n\n- Add version 6.5 DBF file support\n- Update version detection logic\n- Add tests for version 6.5\n</code></pre></p>"},{"location":"contributing/#code-review","title":"Code Review","text":"<p>All submissions require review. We use GitHub pull requests for this purpose.</p>"},{"location":"contributing/#reporting-issues","title":"Reporting Issues","text":"<p>Use GitHub Issues to report bugs or request features:</p> <ul> <li>Bug Report: Describe the issue, steps to reproduce, expected vs actual behavior</li> <li>Feature Request: Describe the feature and use case</li> <li>Question: Ask questions about usage or implementation</li> </ul>"},{"location":"contributing/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under the MIT License.</p>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.8 or higher</li> <li>pip package manager</li> </ul>"},{"location":"getting-started/installation/#installation-methods","title":"Installation Methods","text":""},{"location":"getting-started/installation/#pypi-recommended","title":"PyPI (Recommended)","text":"<p>Install from Python Package Index:</p> <pre><code>pip install thai-drg-grouper\n</code></pre>"},{"location":"getting-started/installation/#with-optional-dependencies","title":"With Optional Dependencies","text":"<p>Install with API support (FastAPI + Uvicorn):</p> <pre><code>pip install thai-drg-grouper[api]\n</code></pre> <p>Install with development tools:</p> <pre><code>pip install thai-drg-grouper[dev]\n</code></pre> <p>Install with documentation tools:</p> <pre><code>pip install thai-drg-grouper[docs]\n</code></pre> <p>Install everything:</p> <pre><code>pip install thai-drg-grouper[all]\n</code></pre>"},{"location":"getting-started/installation/#from-source","title":"From Source","text":"<p>Clone the repository and install in development mode:</p> <pre><code>git clone https://github.com/aegisx-platform/thai-drg-grouper.git\ncd thai-drg-grouper\npip install -e .[all]\n</code></pre>"},{"location":"getting-started/installation/#verification","title":"Verification","text":"<p>Verify the installation:</p> <pre><code>thai-drg-grouper --version\n</code></pre> <p>List available commands:</p> <pre><code>thai-drg-grouper --help\n</code></pre>"},{"location":"getting-started/installation/#configuration","title":"Configuration","text":""},{"location":"getting-started/installation/#environment-variables","title":"Environment Variables","text":"<p>The API server can be configured using environment variables. Create a <code>.env</code> file in your working directory:</p> <pre><code># Copy the example file\ncp .env.example .env\n</code></pre> <p>Available configuration options:</p>"},{"location":"getting-started/installation/#cors-configuration","title":"CORS Configuration","text":"<p>Configure allowed origins for API requests (comma-separated):</p> <pre><code># Development (default)\nCORS_ORIGINS=http://localhost:4200,http://localhost:3000\n\n# Production\nCORS_ORIGINS=https://your-app.example.com,https://another-app.example.com\n</code></pre> <p>Default origins: - <code>http://localhost:4200</code> - Angular development server - <code>http://localhost:3000</code> - React/Vite development server</p>"},{"location":"getting-started/installation/#server-configuration","title":"Server Configuration","text":"<pre><code># Server host and port (optional)\nHOST=0.0.0.0\nPORT=8000\n</code></pre>"},{"location":"getting-started/installation/#example-env-file","title":"Example .env File","text":"<pre><code># CORS Configuration\nCORS_ORIGINS=http://localhost:4200,http://localhost:3000\n\n# Server Configuration\n# HOST=0.0.0.0\n# PORT=8000\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Start grouping cases with the Python library or CLI</li> <li>Set up DRG versions using <code>thai-drg-grouper download</code></li> </ul>"},{"location":"reference/api/","title":"REST API Reference","text":"<p>The Thai DRG Grouper REST API provides HTTP endpoints for DRG grouping operations.</p>"},{"location":"reference/api/#base-url","title":"Base URL","text":"<pre><code>http://localhost:8000\n</code></pre>"},{"location":"reference/api/#interactive-documentation","title":"Interactive Documentation","text":"<ul> <li>Swagger UI: http://localhost:8000/docs</li> <li>ReDoc: http://localhost:8000/redoc</li> </ul>"},{"location":"reference/api/#endpoints","title":"Endpoints","text":""},{"location":"reference/api/#get","title":"GET /","text":"<p>Get API information.</p> <p>Response: <pre><code>{\n  \"name\": \"Thai DRG Grouper API\",\n  \"version\": \"2.0.0\",\n  \"description\": \"REST API for Thai DRG grouping\"\n}\n</code></pre></p>"},{"location":"reference/api/#get-versions","title":"GET /versions","text":"<p>List all available DRG versions.</p> <p>Response: <pre><code>{\n  \"versions\": [\"6.3\", \"6.3.4\"],\n  \"default\": \"6.3\"\n}\n</code></pre></p> <p>Example: <pre><code>curl http://localhost:8000/versions\n</code></pre></p>"},{"location":"reference/api/#post-group","title":"POST /group","text":"<p>Group a case using the default DRG version.</p> <p>Request Body: <pre><code>{\n  \"pdx\": \"string\",           // Required: Principal diagnosis (ICD-10)\n  \"sdx\": [\"string\"],         // Optional: Secondary diagnoses\n  \"procedures\": [\"string\"],  // Optional: ICD-9-CM procedures\n  \"age\": 0,                  // Optional: Patient age\n  \"sex\": \"M\",               // Optional: M or F\n  \"los\": 0,                 // Optional: Length of stay (days)\n  \"discharge_status\": \"1\",  // Optional: Discharge status code\n  \"admit_weight\": 0,        // Optional: Admission weight (grams, for neonates)\n  \"type_in\": \"I\",          // Optional: I (inpatient) or O (outpatient)\n  \"datetime_admit\": \"string\", // Optional: Admission datetime\n  \"datetime_disch\": \"string\"  // Optional: Discharge datetime\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"drg\": \"08172\",\n  \"drg_name\": \"\u0e1c\u0e48\u0e32\u0e15\u0e31\u0e14\u0e01\u0e23\u0e30\u0e14\u0e39\u0e01\u0e41\u0e25\u0e30\u0e02\u0e49\u0e2d \u0e23\u0e30\u0e14\u0e31\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e0b\u0e31\u0e1a\u0e0b\u0e49\u0e2d\u0e19\u0e2a\u0e39\u0e07\",\n  \"mdc\": \"08\",\n  \"mdc_name\": \"\u0e23\u0e30\u0e1a\u0e1a\u0e42\u0e04\u0e23\u0e07\u0e01\u0e23\u0e30\u0e14\u0e39\u0e01\u0e41\u0e25\u0e30\u0e01\u0e25\u0e49\u0e32\u0e21\u0e40\u0e19\u0e37\u0e49\u0e2d\",\n  \"dc\": \"0817\",\n  \"dc_name\": \"\u0e1c\u0e48\u0e32\u0e15\u0e31\u0e14\u0e01\u0e23\u0e30\u0e14\u0e39\u0e01\u0e41\u0e25\u0e30\u0e02\u0e49\u0e2d\",\n  \"rw\": 5.0602,\n  \"rw0d\": 5.0602,\n  \"adjrw\": 5.0602,\n  \"pcl\": 3,\n  \"is_surgical\": true,\n  \"los_status\": \"normal\",\n  \"version\": \"6.3\"\n}\n</code></pre></p> <p>Example: <pre><code>curl -X POST http://localhost:8000/group \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"pdx\": \"S82201D\",\n    \"sdx\": [\"E119\", \"I10\"],\n    \"procedures\": [\"7936\"],\n    \"age\": 25,\n    \"sex\": \"M\",\n    \"los\": 5\n  }'\n</code></pre></p>"},{"location":"reference/api/#post-groupversion","title":"POST /group/{version}","text":"<p>Group a case using a specific DRG version.</p> <p>Path Parameters: - <code>version</code> (string): DRG version (e.g., \"6.3\", \"6.3.4\")</p> <p>Request Body: Same as <code>/group</code></p> <p>Response: Same as <code>/group</code></p> <p>Example: <pre><code>curl -X POST http://localhost:8000/group/6.3 \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"pdx\": \"J189\",\n    \"sdx\": [\"E119\"],\n    \"los\": 5\n  }'\n</code></pre></p>"},{"location":"reference/api/#post-groupcompare","title":"POST /group/compare","text":"<p>Compare DRG grouping results across all available versions.</p> <p>Request Body: Same as <code>/group</code></p> <p>Response: <pre><code>{\n  \"6.3\": {\n    \"drg\": \"04102\",\n    \"drg_name\": \"\u0e42\u0e23\u0e04\u0e1b\u0e2d\u0e14 \u0e23\u0e30\u0e14\u0e31\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e0b\u0e31\u0e1a\u0e0b\u0e49\u0e2d\u0e19\u0e1b\u0e32\u0e19\u0e01\u0e25\u0e32\u0e07\",\n    \"rw\": 1.2345,\n    ...\n  },\n  \"6.3.4\": {\n    \"drg\": \"04102\",\n    \"drg_name\": \"\u0e42\u0e23\u0e04\u0e1b\u0e2d\u0e14 \u0e23\u0e30\u0e14\u0e31\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e0b\u0e31\u0e1a\u0e0b\u0e49\u0e2d\u0e19\u0e1b\u0e32\u0e19\u0e01\u0e25\u0e32\u0e07\",\n    \"rw\": 1.2500,\n    ...\n  }\n}\n</code></pre></p> <p>Example: <pre><code>curl -X POST http://localhost:8000/group/compare \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"pdx\": \"J189\",\n    \"los\": 5\n  }'\n</code></pre></p>"},{"location":"reference/api/#post-groupbatch","title":"POST /group/batch","text":"<p>Group multiple cases at once.</p> <p>Request Body: <pre><code>{\n  \"cases\": [\n    {\n      \"pdx\": \"string\",\n      \"sdx\": [\"string\"],\n      \"procedures\": [\"string\"],\n      \"age\": 0,\n      \"sex\": \"M\",\n      \"los\": 0\n    }\n  ],\n  \"version\": \"6.3\"  // Optional: specific version\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"results\": [\n    {\n      \"drg\": \"08172\",\n      \"drg_name\": \"...\",\n      ...\n    }\n  ]\n}\n</code></pre></p> <p>Example: <pre><code>curl -X POST http://localhost:8000/group/batch \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"cases\": [\n      {\"pdx\": \"J189\", \"los\": 5},\n      {\"pdx\": \"S82201D\", \"procedures\": [\"7936\"], \"los\": 7}\n    ]\n  }'\n</code></pre></p>"},{"location":"reference/api/#get-health","title":"GET /health","text":"<p>Health check endpoint.</p> <p>Response: <pre><code>{\n  \"status\": \"healthy\",\n  \"version\": \"6.3\",\n  \"versions_available\": [\"6.3\", \"6.3.4\"]\n}\n</code></pre></p> <p>Example: <pre><code>curl http://localhost:8000/health\n</code></pre></p>"},{"location":"reference/api/#response-fields","title":"Response Fields","text":""},{"location":"reference/api/#drg-result-object","title":"DRG Result Object","text":"Field Type Description <code>drg</code> string DRG code (5 digits) <code>drg_name</code> string DRG description in Thai <code>mdc</code> string Major Diagnostic Category (2 digits) <code>mdc_name</code> string MDC description in Thai <code>dc</code> string Disease Cluster (4 digits) <code>dc_name</code> string Disease Cluster description <code>rw</code> float Relative Weight <code>rw0d</code> float Relative Weight for day case <code>adjrw</code> float Adjusted RW (based on LOS) <code>pcl</code> integer Patient Complexity Level (0-4) <code>is_surgical</code> boolean Is surgical DRG <code>los_status</code> string <code>daycase</code>, <code>normal</code>, or <code>long_stay</code> <code>version</code> string DRG version used"},{"location":"reference/api/#patient-complexity-levels-pcl","title":"Patient Complexity Levels (PCL)","text":"PCL Description 0 No complications 1 Minor complications (CC) 2 Moderate complications 3 Major complications (MCC) 4 Severe complications"},{"location":"reference/api/#error-responses","title":"Error Responses","text":""},{"location":"reference/api/#400-bad-request","title":"400 Bad Request","text":"<p>Invalid input parameters.</p> <pre><code>{\n  \"detail\": \"Principal diagnosis (pdx) is required\"\n}\n</code></pre>"},{"location":"reference/api/#404-not-found","title":"404 Not Found","text":"<p>Version not found.</p> <pre><code>{\n  \"detail\": \"Version '6.4' not found\"\n}\n</code></pre>"},{"location":"reference/api/#500-internal-server-error","title":"500 Internal Server Error","text":"<p>Server error.</p> <pre><code>{\n  \"detail\": \"Internal server error message\"\n}\n</code></pre>"},{"location":"reference/api/#cors-configuration","title":"CORS Configuration","text":"<p>The API supports Cross-Origin Resource Sharing (CORS). Configure allowed origins via environment variable:</p> <pre><code>CORS_ORIGINS=http://localhost:4200,https://your-app.com\n</code></pre> <p>Default origins: - <code>http://localhost:4200</code> - Angular development server - <code>http://localhost:3000</code> - React/Vite development server</p> <p>See Configuration for more details.</p>"},{"location":"reference/api/#rate-limiting","title":"Rate Limiting","text":"<p>Currently, there is no rate limiting. Consider implementing rate limiting for production deployments.</p>"},{"location":"reference/api/#authentication","title":"Authentication","text":"<p>The API currently does not require authentication. For production use, consider implementing: - API key authentication - JWT tokens - OAuth 2.0</p>"},{"location":"reference/api/#examples","title":"Examples","text":""},{"location":"reference/api/#python-with-requests","title":"Python with requests","text":"<pre><code>import requests\n\n# Group a case\nresponse = requests.post(\n    \"http://localhost:8000/group\",\n    json={\n        \"pdx\": \"J189\",\n        \"sdx\": [\"E119\", \"I10\"],\n        \"age\": 65,\n        \"sex\": \"M\",\n        \"los\": 5\n    }\n)\nresult = response.json()\nprint(f\"DRG: {result['drg']}, RW: {result['rw']}\")\n</code></pre>"},{"location":"reference/api/#javascript-with-fetch","title":"JavaScript with fetch","text":"<pre><code>// Group a case\nconst response = await fetch('http://localhost:8000/group', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({\n    pdx: 'J189',\n    sdx: ['E119', 'I10'],\n    age: 65,\n    sex: 'M',\n    los: 5\n  })\n});\nconst result = await response.json();\nconsole.log(`DRG: ${result.drg}, RW: ${result.rw}`);\n</code></pre>"},{"location":"reference/api/#curl","title":"cURL","text":"<pre><code># Group a case\ncurl -X POST http://localhost:8000/group \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"pdx\": \"J189\",\n    \"sdx\": [\"E119\", \"I10\"],\n    \"age\": 65,\n    \"sex\": \"M\",\n    \"los\": 5\n  }'\n\n# Compare versions\ncurl -X POST http://localhost:8000/group/compare \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"pdx\": \"J189\", \"los\": 5}'\n\n# Batch processing\ncurl -X POST http://localhost:8000/group/batch \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"cases\": [\n      {\"pdx\": \"J189\", \"los\": 5},\n      {\"pdx\": \"S82201D\", \"procedures\": [\"7936\"], \"los\": 7}\n    ]\n  }'\n</code></pre>"},{"location":"reference/grouper/","title":"Python API Reference","text":"<p>Complete reference for the Thai DRG Grouper Python library.</p>"},{"location":"reference/grouper/#classes","title":"Classes","text":""},{"location":"reference/grouper/#thaidrggroupermanager","title":"ThaiDRGGrouperManager","text":"<p>Main manager class for handling multiple DRG versions.</p> <pre><code>from thai_drg_grouper import ThaiDRGGrouperManager\n\nmanager = ThaiDRGGrouperManager(versions_dir='./data/versions')\n</code></pre>"},{"location":"reference/grouper/#constructor","title":"Constructor","text":"<pre><code>ThaiDRGGrouperManager(versions_dir: str = './data/versions')\n</code></pre> <p>Parameters: - <code>versions_dir</code> (str): Path to directory containing DRG version data</p> <p>Example: <pre><code># Use default directory\nmanager = ThaiDRGGrouperManager()\n\n# Use custom directory\nmanager = ThaiDRGGrouperManager('/path/to/versions')\n</code></pre></p>"},{"location":"reference/grouper/#methods","title":"Methods","text":""},{"location":"reference/grouper/#group_latest","title":"group_latest()","text":"<p>Group a case using the default/latest DRG version.</p> <pre><code>group_latest(\n    pdx: str,\n    sdx: Optional[List[str]] = None,\n    procedures: Optional[List[str]] = None,\n    age: int = 0,\n    sex: str = 'M',\n    los: int = 0,\n    discharge_status: str = '1',\n    admit_weight: int = 0,\n    type_in: str = 'I',\n    datetime_admit: Optional[str] = None,\n    datetime_disch: Optional[str] = None\n) -&gt; DRGResult\n</code></pre> <p>Parameters: - <code>pdx</code> (str, required): Principal diagnosis code (ICD-10-TM) - <code>sdx</code> (List[str], optional): List of secondary diagnosis codes - <code>procedures</code> (List[str], optional): List of ICD-9-CM procedure codes - <code>age</code> (int, optional): Patient age in years (default: 0) - <code>sex</code> (str, optional): Patient sex - 'M' or 'F' (default: 'M') - <code>los</code> (int, optional): Length of stay in days (default: 0) - <code>discharge_status</code> (str, optional): Discharge status code (default: '1') - <code>admit_weight</code> (int, optional): Admission weight in grams for neonates (default: 0) - <code>type_in</code> (str, optional): Type - 'I' (inpatient) or 'O' (outpatient) (default: 'I') - <code>datetime_admit</code> (str, optional): Admission datetime - <code>datetime_disch</code> (str, optional): Discharge datetime</p> <p>Returns: - <code>DRGResult</code>: DRG grouping result</p> <p>Example: <pre><code>result = manager.group_latest(\n    pdx='J189',\n    sdx=['E119', 'I10'],\n    age=65,\n    sex='M',\n    los=5\n)\nprint(f\"DRG: {result.drg}\")\nprint(f\"RW: {result.rw}\")\n</code></pre></p>"},{"location":"reference/grouper/#group","title":"group()","text":"<p>Group a case using a specific DRG version.</p> <pre><code>group(\n    version: str,\n    pdx: str,\n    sdx: Optional[List[str]] = None,\n    procedures: Optional[List[str]] = None,\n    age: int = 0,\n    sex: str = 'M',\n    los: int = 0,\n    discharge_status: str = '1',\n    admit_weight: int = 0,\n    type_in: str = 'I',\n    datetime_admit: Optional[str] = None,\n    datetime_disch: Optional[str] = None\n) -&gt; DRGResult\n</code></pre> <p>Parameters: - <code>version</code> (str, required): DRG version to use (e.g., '6.3', '6.3.4') - Other parameters: Same as <code>group_latest()</code></p> <p>Returns: - <code>DRGResult</code>: DRG grouping result</p> <p>Example: <pre><code># Group with version 6.3\nresult_v63 = manager.group('6.3', pdx='J189', los=5)\n\n# Group with version 6.3.4\nresult_v634 = manager.group('6.3.4', pdx='J189', los=5)\n</code></pre></p>"},{"location":"reference/grouper/#group_all_versions","title":"group_all_versions()","text":"<p>Compare DRG grouping across all available versions.</p> <pre><code>group_all_versions(\n    pdx: str,\n    sdx: Optional[List[str]] = None,\n    procedures: Optional[List[str]] = None,\n    age: int = 0,\n    sex: str = 'M',\n    los: int = 0,\n    discharge_status: str = '1',\n    admit_weight: int = 0,\n    type_in: str = 'I',\n    datetime_admit: Optional[str] = None,\n    datetime_disch: Optional[str] = None\n) -&gt; Dict[str, DRGResult]\n</code></pre> <p>Parameters: - Same as <code>group_latest()</code></p> <p>Returns: - <code>Dict[str, DRGResult]</code>: Dictionary mapping version to result</p> <p>Example: <pre><code>results = manager.group_all_versions(\n    pdx='J189',\n    sdx=['E119'],\n    los=5\n)\n\nfor version, result in results.items():\n    print(f\"{version}: DRG={result.drg}, RW={result.rw}\")\n</code></pre></p> <p>Output: <pre><code>6.3: DRG=04102, RW=1.2345\n6.3.4: DRG=04102, RW=1.2500\n</code></pre></p>"},{"location":"reference/grouper/#list_versions","title":"list_versions()","text":"<p>Get list of available DRG versions.</p> <pre><code>list_versions() -&gt; List[str]\n</code></pre> <p>Returns: - <code>List[str]</code>: List of version strings</p> <p>Example: <pre><code>versions = manager.list_versions()\nprint(f\"Available versions: {versions}\")\n# Output: Available versions: ['6.3', '6.3.4']\n</code></pre></p>"},{"location":"reference/grouper/#get_default_version","title":"get_default_version()","text":"<p>Get the default DRG version.</p> <pre><code>get_default_version() -&gt; str\n</code></pre> <p>Returns: - <code>str</code>: Default version string</p> <p>Example: <pre><code>default = manager.get_default_version()\nprint(f\"Default version: {default}\")\n# Output: Default version: 6.3\n</code></pre></p>"},{"location":"reference/grouper/#thaidrggrouper","title":"ThaiDRGGrouper","text":"<p>Individual DRG version grouper class.</p> <pre><code>from thai_drg_grouper import ThaiDRGGrouper\n\ngrouper = ThaiDRGGrouper(version_dir='./data/versions/6.3')\n</code></pre>"},{"location":"reference/grouper/#constructor_1","title":"Constructor","text":"<pre><code>ThaiDRGGrouper(version_dir: str)\n</code></pre> <p>Parameters: - <code>version_dir</code> (str): Path to specific version directory</p> <p>Example: <pre><code>grouper = ThaiDRGGrouper('./data/versions/6.3')\n</code></pre></p>"},{"location":"reference/grouper/#methods_1","title":"Methods","text":""},{"location":"reference/grouper/#group_1","title":"group()","text":"<p>Group a single case.</p> <pre><code>group(\n    pdx: str,\n    sdx: Optional[List[str]] = None,\n    procedures: Optional[List[str]] = None,\n    age: int = 0,\n    sex: str = 'M',\n    los: int = 0,\n    discharge_status: str = '1',\n    admit_weight: int = 0,\n    type_in: str = 'I',\n    datetime_admit: Optional[str] = None,\n    datetime_disch: Optional[str] = None\n) -&gt; DRGResult\n</code></pre> <p>Parameters: Same as <code>ThaiDRGGrouperManager.group_latest()</code></p> <p>Returns: - <code>DRGResult</code>: DRG grouping result</p> <p>Example: <pre><code>grouper = ThaiDRGGrouper('./data/versions/6.3')\nresult = grouper.group(pdx='J189', los=5)\n</code></pre></p>"},{"location":"reference/grouper/#data-classes","title":"Data Classes","text":""},{"location":"reference/grouper/#drgresult","title":"DRGResult","text":"<p>Result object containing DRG grouping information.</p> <p>Attributes:</p> Attribute Type Description <code>drg</code> str DRG code (5 digits) <code>drg_name</code> str DRG description in Thai <code>mdc</code> str Major Diagnostic Category (2 digits) <code>mdc_name</code> str MDC description in Thai <code>dc</code> str Disease Cluster (4 digits) <code>dc_name</code> str DC description in Thai <code>rw</code> float Relative Weight <code>rw0d</code> float RW for day case <code>adjrw</code> float Adjusted RW (by LOS) <code>pcl</code> int Patient Complexity Level (0-4) <code>is_surgical</code> bool Is surgical DRG <code>los_status</code> str 'daycase', 'normal', or 'long_stay' <code>version</code> str DRG version used <p>Example: <pre><code>result = manager.group_latest(pdx='J189', los=5)\n\n# Access attributes\nprint(f\"DRG: {result.drg}\")                    # 04102\nprint(f\"Name: {result.drg_name}\")              # \u0e42\u0e23\u0e04\u0e1b\u0e2d\u0e14...\nprint(f\"MDC: {result.mdc}\")                    # 04\nprint(f\"RW: {result.rw}\")                      # 1.2345\nprint(f\"Adjusted RW: {result.adjrw}\")          # 1.2345\nprint(f\"PCL: {result.pcl}\")                    # 1\nprint(f\"Is Surgical: {result.is_surgical}\")    # False\nprint(f\"LOS Status: {result.los_status}\")      # normal\nprint(f\"Version: {result.version}\")            # 6.3\n</code></pre></p>"},{"location":"reference/grouper/#complete-examples","title":"Complete Examples","text":""},{"location":"reference/grouper/#basic-usage","title":"Basic Usage","text":"<pre><code>from thai_drg_grouper import ThaiDRGGrouperManager\n\n# Initialize manager\nmanager = ThaiDRGGrouperManager('./data/versions')\n\n# Simple case\nresult = manager.group_latest(pdx='J189')\nprint(f\"DRG: {result.drg}, RW: {result.rw}\")\n\n# With secondary diagnoses\nresult = manager.group_latest(\n    pdx='J189',\n    sdx=['E119', 'I10'],\n    age=65,\n    sex='M',\n    los=5\n)\nprint(f\"DRG: {result.drg}, PCL: {result.pcl}\")\n</code></pre>"},{"location":"reference/grouper/#surgical-case-with-procedures","title":"Surgical Case with Procedures","text":"<pre><code># Fracture with ORIF surgery\nresult = manager.group_latest(\n    pdx='S82201D',          # Tibial fracture\n    sdx=['E119', 'I10'],    # Diabetes, Hypertension\n    procedures=['7936'],     # ORIF tibia/fibula\n    age=45,\n    sex='F',\n    los=7\n)\n\nprint(f\"DRG: {result.drg}\")              # 08172\nprint(f\"Surgical: {result.is_surgical}\") # True\nprint(f\"RW: {result.rw}\")                # 5.0602\n</code></pre>"},{"location":"reference/grouper/#version-comparison","title":"Version Comparison","text":"<pre><code># Compare across versions\nresults = manager.group_all_versions(\n    pdx='J189',\n    sdx=['E119'],\n    los=5\n)\n\n# Print comparison\nfor version, result in results.items():\n    print(f\"{version}: DRG={result.drg}, RW={result.rw}, PCL={result.pcl}\")\n</code></pre>"},{"location":"reference/grouper/#batch-processing","title":"Batch Processing","text":"<pre><code>import pandas as pd\n\n# Read patient data\ndf = pd.read_csv('patients.csv')\n\n# Process all cases\nresults = []\nfor _, row in df.iterrows():\n    result = manager.group_latest(\n        pdx=row['pdx'],\n        sdx=row['sdx'].split(',') if pd.notna(row['sdx']) else [],\n        procedures=row['proc'].split(',') if pd.notna(row['proc']) else [],\n        age=row['age'],\n        sex=row['sex'],\n        los=row['los']\n    )\n    results.append({\n        'hn': row['hn'],\n        'drg': result.drg,\n        'drg_name': result.drg_name,\n        'rw': result.rw,\n        'adjrw': result.adjrw\n    })\n\n# Save results\ndf_results = pd.DataFrame(results)\ndf_results.to_csv('drg_results.csv', index=False)\n</code></pre>"},{"location":"reference/grouper/#error-handling","title":"Error Handling","text":"<pre><code>from thai_drg_grouper import ThaiDRGGrouperManager\n\nmanager = ThaiDRGGrouperManager()\n\ntry:\n    # Try to group with invalid version\n    result = manager.group('9.9', pdx='J189')\nexcept ValueError as e:\n    print(f\"Error: {e}\")\n    # Use default version instead\n    result = manager.group_latest(pdx='J189')\n\ntry:\n    # Try to group without PDX\n    result = manager.group_latest(pdx='')\nexcept ValueError as e:\n    print(f\"Error: Principal diagnosis is required\")\n</code></pre>"},{"location":"reference/grouper/#working-with-neonates","title":"Working with Neonates","text":"<pre><code># Neonate with low birth weight\nresult = manager.group_latest(\n    pdx='P0700',           # Low birth weight\n    age=0,\n    sex='M',\n    los=15,\n    admit_weight=1500,     # 1500 grams\n    discharge_status='1'\n)\n\nprint(f\"DRG: {result.drg}\")\nprint(f\"PCL: {result.pcl}\")\n</code></pre>"},{"location":"reference/grouper/#day-case-vs-long-stay","title":"Day Case vs Long Stay","text":"<pre><code># Day case (LOS = 0)\nresult_day = manager.group_latest(pdx='K358', los=0)\nprint(f\"Day case RW: {result_day.rw0d}\")\nprint(f\"Status: {result_day.los_status}\")  # daycase\n\n# Normal stay\nresult_normal = manager.group_latest(pdx='K358', los=3)\nprint(f\"Normal RW: {result_normal.rw}\")\nprint(f\"Status: {result_normal.los_status}\")  # normal\n\n# Long stay\nresult_long = manager.group_latest(pdx='K358', los=20)\nprint(f\"Adjusted RW: {result_long.adjrw}\")\nprint(f\"Status: {result_long.los_status}\")  # long_stay\n</code></pre>"},{"location":"reference/grouper/#type-hints","title":"Type Hints","text":"<p>The library is fully typed for better IDE support:</p> <pre><code>from typing import Optional, List, Dict\nfrom thai_drg_grouper import ThaiDRGGrouperManager, DRGResult\n\nmanager: ThaiDRGGrouperManager = ThaiDRGGrouperManager()\nresult: DRGResult = manager.group_latest(pdx='J189')\nversions: List[str] = manager.list_versions()\nall_results: Dict[str, DRGResult] = manager.group_all_versions(pdx='J189')\n</code></pre>"},{"location":"reference/grouper/#see-also","title":"See Also","text":"<ul> <li>REST API Reference - HTTP API documentation</li> <li>Examples - More detailed examples in Thai</li> <li>Installation - Setup and configuration</li> </ul>"},{"location":"th/","title":"Thai DRG Grouper - \u0e04\u0e39\u0e48\u0e21\u0e37\u0e2d\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22","text":"<p>\ud83c\udfe5 Thai DRG Grouper - \u0e42\u0e1b\u0e23\u0e41\u0e01\u0e23\u0e21 DRG Grouper \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e1b\u0e23\u0e30\u0e40\u0e17\u0e28\u0e44\u0e17\u0e22 \u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e2b\u0e25\u0e32\u0e22 version \u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e01\u0e31\u0e19</p> <p> </p>"},{"location":"th/#support-this-project","title":"\ud83d\udc96 Support This Project","text":"<p>If you find this project helpful, consider supporting its development:</p> <p></p> <p>Your support helps maintain and improve this project! \u2615</p>"},{"location":"th/#thai-drg-grouper","title":"\ud83c\udfaf Thai DRG Grouper \u0e04\u0e37\u0e2d\u0e2d\u0e30\u0e44\u0e23?","text":"<p>Thai DRG Grouper \u0e40\u0e1b\u0e47\u0e19 Python package \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG (Diagnosis Related Group) \u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e43\u0e19\u0e23\u0e30\u0e1a\u0e1a\u0e2a\u0e38\u0e02\u0e20\u0e32\u0e1e\u0e44\u0e17\u0e22 \u0e42\u0e14\u0e22\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e2b\u0e25\u0e32\u0e22\u0e23\u0e39\u0e1b\u0e41\u0e1a\u0e1a:</p> <ul> <li>\ud83d\udcdd Python Library - \u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e1c\u0e48\u0e32\u0e19 Python code</li> <li>\ud83d\udcbb Command Line (CLI) - \u0e23\u0e31\u0e19\u0e1c\u0e48\u0e32\u0e19 Terminal/Command Prompt</li> <li>\ud83c\udf10 REST API - \u0e40\u0e23\u0e35\u0e22\u0e01\u0e43\u0e0a\u0e49\u0e1c\u0e48\u0e32\u0e19 HTTP API</li> <li>\ud83d\udc33 Docker - \u0e23\u0e31\u0e19\u0e43\u0e19 Container</li> </ul>"},{"location":"th/#_1","title":"\u2728 \u0e04\u0e27\u0e32\u0e21\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2b\u0e25\u0e31\u0e01","text":""},{"location":"th/#1-drg-versions","title":"1. \u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e2b\u0e25\u0e32\u0e22 DRG Versions","text":"<pre><code># \u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e43\u0e0a\u0e49 DRG \u0e2b\u0e25\u0e32\u0e22 versions \u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e01\u0e31\u0e19\nmanager = ThaiDRGGrouperManager('./data/versions')\n\n# Group \u0e14\u0e49\u0e27\u0e22 version 6.3\nresult_v63 = manager.group('6.3', pdx='J189', los=5)\n\n# Group \u0e14\u0e49\u0e27\u0e22 version 5.1\nresult_v51 = manager.group('5.1', pdx='J189', los=5)\n\n# \u0e40\u0e1b\u0e23\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e35\u0e22\u0e1a\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\nprint(f\"v6.3: DRG={result_v63.drg}, RW={result_v63.rw}\")\nprint(f\"v5.1: DRG={result_v51.drg}, RW={result_v51.rw}\")\n</code></pre>"},{"location":"th/#2-platform","title":"2. \u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e44\u0e14\u0e49\u0e1a\u0e19\u0e17\u0e38\u0e01 Platform","text":"<ul> <li>\u2705 Linux</li> <li>\u2705 macOS</li> <li>\u2705 Windows</li> <li>\u2705 Docker Container</li> </ul>"},{"location":"th/#3-batch-processing","title":"3. Batch Processing","text":"<p>\u0e1b\u0e23\u0e30\u0e21\u0e27\u0e25\u0e1c\u0e25\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e2b\u0e25\u0e32\u0e22\u0e23\u0e32\u0e22\u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e01\u0e31\u0e19:</p> <pre><code># \u0e2d\u0e48\u0e32\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e08\u0e32\u0e01 CSV\nimport pandas as pd\ndf = pd.read_csv('patients.csv')\n\n# Group \u0e17\u0e38\u0e01 case\nfor _, patient in df.iterrows():\n    result = manager.group_latest(\n        pdx=patient['pdx'],\n        sdx=patient['sdx'],\n        los=patient['los']\n    )\n    print(f\"{patient['hn']}: DRG={result.drg}\")\n</code></pre>"},{"location":"th/#4-rest-api","title":"4. REST API \u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19","text":"<pre><code># \u0e40\u0e23\u0e34\u0e48\u0e21 API Server\nthai-drg-grouper serve --port 8000\n\n# \u0e40\u0e23\u0e35\u0e22\u0e01\u0e43\u0e0a\u0e49\u0e1c\u0e48\u0e32\u0e19 API\ncurl -X POST http://localhost:8000/group \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"pdx\": \"J189\", \"sdx\": [\"E119\"], \"los\": 5}'\n</code></pre> <p>\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32 CORS: \u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e01\u0e33\u0e2b\u0e19\u0e14 origins \u0e17\u0e35\u0e48\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e1c\u0e48\u0e32\u0e19 environment variable: <pre><code># \u0e2a\u0e23\u0e49\u0e32\u0e07\u0e44\u0e1f\u0e25\u0e4c .env\nCORS_ORIGINS=http://localhost:4200,https://your-app.com\n\n# \u0e23\u0e31\u0e19 server\nthai-drg-grouper serve --port 8000\n</code></pre> \u0e14\u0e39\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21\u0e17\u0e35\u0e48 \u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e41\u0e25\u0e30\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32</p>"},{"location":"th/#_2","title":"\ud83d\ude80 \u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e23\u0e27\u0e14\u0e40\u0e23\u0e47\u0e27","text":""},{"location":"th/#_3","title":"\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07","text":"<pre><code># \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e41\u0e1a\u0e1a\u0e1e\u0e37\u0e49\u0e19\u0e10\u0e32\u0e19\npip install thai-drg-grouper\n\n# \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e1e\u0e23\u0e49\u0e2d\u0e21 API\npip install thai-drg-grouper[api]\n\n# \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e41\u0e1a\u0e1a\u0e04\u0e23\u0e1a\u0e17\u0e38\u0e01\u0e2d\u0e22\u0e48\u0e32\u0e07\npip install thai-drg-grouper[all]\n</code></pre>"},{"location":"th/#_4","title":"\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e41\u0e1a\u0e1a\u0e07\u0e48\u0e32\u0e22","text":"<pre><code>from thai_drg_grouper import ThaiDRGGrouperManager\n\n# \u0e2a\u0e23\u0e49\u0e32\u0e07 manager\nmanager = ThaiDRGGrouperManager('./data/versions')\n\n# Group \u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\nresult = manager.group_latest(\n    pdx='J189',      # \u0e42\u0e23\u0e04\u0e1b\u0e2d\u0e14\u0e2d\u0e31\u0e01\u0e40\u0e2a\u0e1a\n    sdx=['E119'],    # \u0e40\u0e1a\u0e32\u0e2b\u0e27\u0e32\u0e19\n    age=65,\n    sex='M',\n    los=5\n)\n\n# \u0e41\u0e2a\u0e14\u0e07\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\nprint(f\"DRG: {result.drg}\")\nprint(f\"\u0e0a\u0e37\u0e48\u0e2d DRG: {result.drg_name}\")\nprint(f\"MDC: {result.mdc} - {result.mdc_name}\")\nprint(f\"Relative Weight: {result.rw}\")\nprint(f\"Adjusted RW: {result.adjrw}\")\nprint(f\"PCL (Patient Complexity): {result.pcl}\")\n</code></pre>"},{"location":"th/#_5","title":"\ud83d\udcda \u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e1b\u0e23\u0e30\u0e01\u0e2d\u0e1a","text":"<ul> <li>\u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 - \u0e27\u0e34\u0e18\u0e35\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e41\u0e25\u0e30\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e40\u0e1a\u0e37\u0e49\u0e2d\u0e07\u0e15\u0e49\u0e19</li> <li>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 - 10 \u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e42\u0e14\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14</li> <li>REST API Reference - \u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23 HTTP API \u0e09\u0e1a\u0e31\u0e1a\u0e2a\u0e21\u0e1a\u0e39\u0e23\u0e13\u0e4c</li> <li>Python API Reference - \u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23 Python library</li> <li>Interactive API Docs - Swagger UI (\u0e15\u0e49\u0e2d\u0e07\u0e23\u0e31\u0e19 server \u0e01\u0e48\u0e2d\u0e19)</li> <li>Contributing - \u0e27\u0e34\u0e18\u0e35\u0e01\u0e32\u0e23\u0e21\u0e35\u0e2a\u0e48\u0e27\u0e19\u0e23\u0e48\u0e27\u0e21\u0e1e\u0e31\u0e12\u0e19\u0e32</li> <li>Changelog - \u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e01\u0e32\u0e23\u0e2d\u0e31\u0e1e\u0e40\u0e14\u0e17</li> </ul>"},{"location":"th/#_6","title":"\u2696\ufe0f \u0e2a\u0e34\u0e17\u0e18\u0e34\u0e4c\u0e01\u0e32\u0e23\u0e23\u0e31\u0e01\u0e29\u0e32\u0e17\u0e35\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a","text":"<ul> <li>UC - \u0e1a\u0e31\u0e15\u0e23\u0e17\u0e2d\u0e07 (Universal Coverage)</li> <li>CSMBS - \u0e2a\u0e34\u0e17\u0e18\u0e34\u0e4c\u0e02\u0e49\u0e32\u0e23\u0e32\u0e0a\u0e01\u0e32\u0e23</li> <li>SSS - \u0e1b\u0e23\u0e30\u0e01\u0e31\u0e19\u0e2a\u0e31\u0e07\u0e04\u0e21</li> </ul>"},{"location":"th/#_7","title":"\u26a0\ufe0f \u0e02\u0e49\u0e2d\u0e04\u0e27\u0e23\u0e17\u0e23\u0e32\u0e1a","text":"<ol> <li>\u0e44\u0e21\u0e48\u0e43\u0e0a\u0e48\u0e42\u0e1b\u0e23\u0e41\u0e01\u0e23\u0e21 Official - \u0e42\u0e1b\u0e23\u0e41\u0e01\u0e23\u0e21\u0e19\u0e35\u0e49 implement \u0e08\u0e32\u0e01 DBF files \u0e02\u0e2d\u0e07 TCMC</li> <li>\u0e15\u0e49\u0e2d\u0e07 Validate - \u0e04\u0e27\u0e23\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\u0e01\u0e31\u0e1a\u0e42\u0e1b\u0e23\u0e41\u0e01\u0e23\u0e21 TGrp Official \u0e01\u0e48\u0e2d\u0e19\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e08\u0e23\u0e34\u0e07</li> <li>\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e17\u0e14\u0e2a\u0e2d\u0e1a\u0e41\u0e25\u0e30\u0e27\u0e34\u0e08\u0e31\u0e22 - \u0e40\u0e2b\u0e21\u0e32\u0e30\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e40\u0e23\u0e35\u0e22\u0e19\u0e23\u0e39\u0e49 \u0e27\u0e34\u0e08\u0e31\u0e22 \u0e41\u0e25\u0e30\u0e1e\u0e31\u0e12\u0e19\u0e32\u0e23\u0e30\u0e1a\u0e1a</li> </ol>"},{"location":"th/#_8","title":"\ud83d\udcde \u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e41\u0e25\u0e30\u0e2a\u0e19\u0e31\u0e1a\u0e2a\u0e19\u0e38\u0e19","text":"<ul> <li>GitHub: aegisx-platform/thai-drg-grouper</li> <li>Issues: \u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e1b\u0e31\u0e0d\u0e2b\u0e32</li> <li>PyPI: thai-drg-grouper</li> </ul>"},{"location":"th/#license","title":"\ud83d\udcc4 License","text":"<p>MIT License - \u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e44\u0e14\u0e49\u0e40\u0e2a\u0e23\u0e35 \u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e14\u0e39\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e44\u0e14\u0e49\u0e17\u0e35\u0e48 LICENSE</p>"},{"location":"th/changelog/","title":"\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e01\u0e32\u0e23\u0e2d\u0e31\u0e1e\u0e40\u0e14\u0e17","text":"<p>\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a changelog \u0e09\u0e1a\u0e31\u0e1a\u0e2a\u0e21\u0e1a\u0e39\u0e23\u0e13\u0e4c \u0e42\u0e1b\u0e23\u0e14\u0e14\u0e39\u0e17\u0e35\u0e48: Changelog (English)</p>"},{"location":"th/changelog/#_2","title":"\u0e40\u0e27\u0e2d\u0e23\u0e4c\u0e0a\u0e31\u0e19\u0e25\u0e48\u0e32\u0e2a\u0e38\u0e14","text":""},{"location":"th/changelog/#200-2024-12-28","title":"[2.0.0] - 2024-12-28","text":""},{"location":"th/changelog/#_3","title":"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e43\u0e2b\u0e21\u0e48","text":"<ul> <li>\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a DRG \u0e2b\u0e25\u0e32\u0e22 versions \u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e01\u0e31\u0e19 \u0e1e\u0e23\u0e49\u0e2d\u0e21 version manager</li> <li>REST API \u0e14\u0e49\u0e27\u0e22 FastAPI \u0e1e\u0e23\u0e49\u0e2d\u0e21 auto-generated documentation</li> <li>\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a Docker \u0e1e\u0e23\u0e49\u0e2d\u0e21 multi-platform builds</li> <li>CLI \u0e17\u0e35\u0e48\u0e04\u0e23\u0e1a\u0e04\u0e23\u0e31\u0e19\u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07: list, add, download, remove, group, compare, serve, stats</li> <li>\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a batch processing</li> <li>\u0e1f\u0e35\u0e40\u0e08\u0e2d\u0e23\u0e4c\u0e40\u0e1b\u0e23\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e35\u0e22\u0e1a versions</li> <li>\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a cross-platform (Linux, Mac, Windows)</li> <li>\u0e15\u0e23\u0e27\u0e08\u0e08\u0e31\u0e1a\u0e44\u0e1f\u0e25\u0e4c DBF \u0e2d\u0e31\u0e15\u0e42\u0e19\u0e21\u0e31\u0e15\u0e34</li> <li>\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e01\u0e0e CC/MCC exclusion</li> <li>\u0e04\u0e33\u0e19\u0e27\u0e13 Patient Complexity Level (PCL)</li> <li>\u0e04\u0e33\u0e19\u0e27\u0e13 Adjusted RW \u0e15\u0e32\u0e21\u0e27\u0e31\u0e19\u0e19\u0e2d\u0e19</li> <li>Test suite \u0e17\u0e35\u0e48\u0e04\u0e23\u0e1a\u0e16\u0e49\u0e27\u0e19</li> <li>CI/CD workflows \u0e14\u0e49\u0e27\u0e22 GitHub Actions</li> <li>Documentation \u0e14\u0e49\u0e27\u0e22 MkDocs Material</li> </ul>"},{"location":"th/changelog/#_4","title":"\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07","text":"<ul> <li>\u0e1b\u0e23\u0e31\u0e1a\u0e1b\u0e23\u0e38\u0e07\u0e42\u0e04\u0e23\u0e07\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e08\u0e32\u0e01 single-version \u0e40\u0e1b\u0e47\u0e19 multi-version</li> <li>\u0e1b\u0e23\u0e31\u0e1a\u0e1b\u0e23\u0e38\u0e07\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23 error \u0e41\u0e25\u0e30 validation</li> <li>\u0e40\u0e1e\u0e34\u0e48\u0e21 type hints \u0e41\u0e25\u0e30 dataclasses</li> </ul>"},{"location":"th/changelog/#_5","title":"\u0e41\u0e01\u0e49\u0e44\u0e02","text":"<ul> <li>\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23 encoding \u0e02\u0e2d\u0e07\u0e44\u0e1f\u0e25\u0e4c DBF (Windows-874 \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22)</li> <li>\u0e01\u0e32\u0e23\u0e17\u0e33\u0e43\u0e2b\u0e49\u0e23\u0e2b\u0e31\u0e2a ICD-10 \u0e40\u0e1b\u0e47\u0e19\u0e21\u0e32\u0e15\u0e23\u0e10\u0e32\u0e19</li> <li>\u0e01\u0e32\u0e23\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e23\u0e2b\u0e31\u0e2a\u0e2b\u0e31\u0e15\u0e16\u0e01\u0e32\u0e23\u0e17\u0e35\u0e48\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e2b\u0e25\u0e32\u0e22\u0e23\u0e39\u0e1b\u0e41\u0e1a\u0e1a</li> </ul> <p>\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38: Changelog \u0e09\u0e1a\u0e31\u0e1a\u0e40\u0e15\u0e47\u0e21\u0e40\u0e1b\u0e47\u0e19\u0e20\u0e32\u0e29\u0e32\u0e2d\u0e31\u0e07\u0e01\u0e24\u0e29\u0e17\u0e35\u0e48 ../changelog.md</p>"},{"location":"th/contributing/","title":"\u0e01\u0e32\u0e23\u0e21\u0e35\u0e2a\u0e48\u0e27\u0e19\u0e23\u0e48\u0e27\u0e21\u0e1e\u0e31\u0e12\u0e19\u0e32","text":"<p>\u0e02\u0e2d\u0e1a\u0e04\u0e38\u0e13\u0e17\u0e35\u0e48\u0e2a\u0e19\u0e43\u0e08\u0e21\u0e35\u0e2a\u0e48\u0e27\u0e19\u0e23\u0e48\u0e27\u0e21\u0e43\u0e19\u0e01\u0e32\u0e23\u0e1e\u0e31\u0e12\u0e19\u0e32 Thai DRG Grouper! \u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e19\u0e35\u0e49\u0e08\u0e30\u0e2d\u0e18\u0e34\u0e1a\u0e32\u0e22\u0e41\u0e19\u0e27\u0e17\u0e32\u0e07\u0e43\u0e19\u0e01\u0e32\u0e23 contribute \u0e01\u0e31\u0e1a\u0e42\u0e1b\u0e23\u0e40\u0e08\u0e01\u0e15\u0e4c</p>"},{"location":"th/contributing/#_2","title":"\u0e01\u0e32\u0e23\u0e40\u0e15\u0e23\u0e35\u0e22\u0e21\u0e2a\u0e20\u0e32\u0e1e\u0e41\u0e27\u0e14\u0e25\u0e49\u0e2d\u0e21\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e1e\u0e31\u0e12\u0e19\u0e32","text":""},{"location":"th/contributing/#1-fork-clone","title":"1. Fork \u0e41\u0e25\u0e30 Clone","text":"<pre><code>git clone https://github.com/YOUR_USERNAME/thai-drg-grouper.git\ncd thai-drg-grouper\n</code></pre>"},{"location":"th/contributing/#2-dependencies","title":"2. \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 Dependencies","text":"<pre><code>pip install -e .[all]\n</code></pre>"},{"location":"th/contributing/#3-tests","title":"3. \u0e23\u0e31\u0e19 Tests","text":"<pre><code>pytest tests/ -v\n</code></pre>"},{"location":"th/contributing/#_3","title":"\u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e01\u0e32\u0e23\u0e1e\u0e31\u0e12\u0e19\u0e32","text":""},{"location":"th/contributing/#code-style","title":"\u0e23\u0e39\u0e1b\u0e41\u0e1a\u0e1a\u0e42\u0e04\u0e49\u0e14 (Code Style)","text":"<p>\u0e40\u0e23\u0e32\u0e43\u0e0a\u0e49 <code>black</code> \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a formatting \u0e41\u0e25\u0e30 <code>ruff</code> \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a linting:</p> <pre><code># Format code\nblack src/ tests/\n\n# \u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a linting\nruff check src/ tests/\n\n# \u0e41\u0e01\u0e49\u0e44\u0e02 linting issues \u0e2d\u0e31\u0e15\u0e42\u0e19\u0e21\u0e31\u0e15\u0e34\nruff check --fix src/ tests/\n</code></pre>"},{"location":"th/contributing/#tests","title":"\u0e01\u0e32\u0e23\u0e40\u0e02\u0e35\u0e22\u0e19 Tests","text":"<p>\u0e40\u0e02\u0e35\u0e22\u0e19 tests \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a features \u0e43\u0e2b\u0e21\u0e48\u0e17\u0e38\u0e01\u0e2d\u0e31\u0e19:</p> <pre><code># \u0e23\u0e31\u0e19 tests \u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14\npytest\n\n# \u0e23\u0e31\u0e19\u0e1e\u0e23\u0e49\u0e2d\u0e21 coverage\npytest --cov=thai_drg_grouper --cov-report=html\n\n# \u0e23\u0e31\u0e19 test \u0e40\u0e09\u0e1e\u0e32\u0e30\npytest tests/test_grouper.py::TestGrouper::test_group_fracture -v\n</code></pre>"},{"location":"th/contributing/#documentation","title":"\u0e01\u0e32\u0e23\u0e40\u0e02\u0e35\u0e22\u0e19 Documentation","text":"<p>\u0e2d\u0e31\u0e1e\u0e40\u0e14\u0e17 documentation \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a features \u0e43\u0e2b\u0e21\u0e48:</p> <pre><code># Build docs \u0e43\u0e19\u0e40\u0e04\u0e23\u0e37\u0e48\u0e2d\u0e07\nmkdocs serve\n\n# \u0e40\u0e1b\u0e34\u0e14\u0e14\u0e39\u0e17\u0e35\u0e48 http://localhost:8000\n</code></pre>"},{"location":"th/contributing/#pull-request","title":"\u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e01\u0e32\u0e23\u0e2a\u0e48\u0e07 Pull Request","text":"<ol> <li>\u0e2a\u0e23\u0e49\u0e32\u0e07 Branch: <code>git checkout -b feature/your-feature-name</code></li> <li>\u0e41\u0e01\u0e49\u0e44\u0e02\u0e42\u0e04\u0e49\u0e14: \u0e17\u0e33\u0e15\u0e32\u0e21\u0e41\u0e19\u0e27\u0e17\u0e32\u0e07 code style</li> <li>\u0e40\u0e1e\u0e34\u0e48\u0e21 Tests: \u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e43\u0e2b\u0e49\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e21\u0e35 test coverage</li> <li>\u0e2d\u0e31\u0e1e\u0e40\u0e14\u0e17 Docs: \u0e40\u0e02\u0e35\u0e22\u0e19 documentation \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a features \u0e43\u0e2b\u0e21\u0e48</li> <li>Commit: \u0e43\u0e0a\u0e49 commit messages \u0e17\u0e35\u0e48\u0e0a\u0e31\u0e14\u0e40\u0e08\u0e19</li> <li>Push: <code>git push origin feature/your-feature-name</code></li> <li>\u0e40\u0e1b\u0e34\u0e14 PR: \u0e2a\u0e23\u0e49\u0e32\u0e07 pull request \u0e1a\u0e19 GitHub</li> </ol>"},{"location":"th/contributing/#commit-message","title":"\u0e41\u0e19\u0e27\u0e17\u0e32\u0e07\u0e01\u0e32\u0e23\u0e40\u0e02\u0e35\u0e22\u0e19 Commit Message","text":"<p>\u0e43\u0e0a\u0e49 conventional commits:</p> <ul> <li><code>feat:</code> Feature \u0e43\u0e2b\u0e21\u0e48</li> <li><code>fix:</code> \u0e41\u0e01\u0e49\u0e44\u0e02 Bug</li> <li><code>docs:</code> \u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e41\u0e1b\u0e25\u0e07 Documentation</li> <li><code>test:</code> \u0e2d\u0e31\u0e1e\u0e40\u0e14\u0e17 Tests</li> <li><code>chore:</code> \u0e07\u0e32\u0e19\u0e1a\u0e33\u0e23\u0e38\u0e07\u0e23\u0e31\u0e01\u0e29\u0e32</li> <li><code>refactor:</code> \u0e1b\u0e23\u0e31\u0e1a\u0e1b\u0e23\u0e38\u0e07\u0e42\u0e04\u0e23\u0e07\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e42\u0e04\u0e49\u0e14</li> </ul> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code>feat: add support for DRG version 6.5\n\n- \u0e40\u0e1e\u0e34\u0e48\u0e21\u0e01\u0e32\u0e23\u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a\u0e44\u0e1f\u0e25\u0e4c DBF version 6.5\n- \u0e2d\u0e31\u0e1e\u0e40\u0e14\u0e17 logic \u0e01\u0e32\u0e23\u0e15\u0e23\u0e27\u0e08\u0e08\u0e31\u0e1a version\n- \u0e40\u0e1e\u0e34\u0e48\u0e21 tests \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a version 6.5\n</code></pre></p>"},{"location":"th/contributing/#code-review","title":"Code Review","text":"<p>\u0e01\u0e32\u0e23\u0e2a\u0e48\u0e07 code \u0e17\u0e38\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07\u0e15\u0e49\u0e2d\u0e07\u0e1c\u0e48\u0e32\u0e19\u0e01\u0e32\u0e23 review \u0e40\u0e23\u0e32\u0e43\u0e0a\u0e49 GitHub pull requests \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e01\u0e23\u0e30\u0e1a\u0e27\u0e19\u0e01\u0e32\u0e23\u0e19\u0e35\u0e49</p>"},{"location":"th/contributing/#_4","title":"\u0e01\u0e32\u0e23\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e1b\u0e31\u0e0d\u0e2b\u0e32","text":"<p>\u0e43\u0e0a\u0e49 GitHub Issues \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19 bugs \u0e2b\u0e23\u0e37\u0e2d\u0e02\u0e2d features:</p> <ul> <li>Bug Report: \u0e2d\u0e18\u0e34\u0e1a\u0e32\u0e22\u0e1b\u0e31\u0e0d\u0e2b\u0e32, \u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e01\u0e32\u0e23\u0e17\u0e33\u0e0b\u0e49\u0e33, \u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\u0e17\u0e35\u0e48\u0e04\u0e32\u0e14\u0e2b\u0e27\u0e31\u0e07\u0e41\u0e25\u0e30\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\u0e08\u0e23\u0e34\u0e07</li> <li>Feature Request: \u0e2d\u0e18\u0e34\u0e1a\u0e32\u0e22 feature \u0e41\u0e25\u0e30 use case</li> <li>Question: \u0e16\u0e32\u0e21\u0e04\u0e33\u0e16\u0e32\u0e21\u0e40\u0e01\u0e35\u0e48\u0e22\u0e27\u0e01\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e2b\u0e23\u0e37\u0e2d\u0e01\u0e32\u0e23 implement</li> </ul>"},{"location":"th/contributing/#license","title":"License","text":"<p>\u0e01\u0e32\u0e23 contribute \u0e2b\u0e21\u0e32\u0e22\u0e04\u0e27\u0e32\u0e21\u0e27\u0e48\u0e32\u0e04\u0e38\u0e13\u0e22\u0e2d\u0e21\u0e23\u0e31\u0e1a\u0e43\u0e2b\u0e49\u0e42\u0e04\u0e49\u0e14\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e2d\u0e22\u0e39\u0e48\u0e20\u0e32\u0e22\u0e43\u0e15\u0e49 MIT License</p>"},{"location":"th/examples/basic/","title":"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e1e\u0e37\u0e49\u0e19\u0e10\u0e32\u0e19","text":""},{"location":"th/examples/basic/#1-group-single-case","title":"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48 1: Group \u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e23\u0e32\u0e22\u0e40\u0e14\u0e35\u0e22\u0e27 (Single Case)","text":""},{"location":"th/examples/basic/#pneumonia","title":"\u0e42\u0e23\u0e04\u0e1b\u0e2d\u0e14\u0e2d\u0e31\u0e01\u0e40\u0e2a\u0e1a (Pneumonia)","text":"<pre><code>from thai_drg_grouper import ThaiDRGGrouperManager\n\n# \u0e2a\u0e23\u0e49\u0e32\u0e07 manager\nmanager = ThaiDRGGrouperManager('./data/versions')\n\n# \u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\nresult = manager.group_latest(\n    pdx='J189',      # Pneumonia, unspecified organism\n    sdx=['E119'],    # Type 2 diabetes mellitus\n    age=65,\n    sex='M',\n    los=5           # Length of stay = 5 \u0e27\u0e31\u0e19\n)\n\n# \u0e41\u0e2a\u0e14\u0e07\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\nprint(f\"DRG Code: {result.drg}\")\nprint(f\"DRG Name: {result.drg_name}\")\nprint(f\"MDC: {result.mdc} - {result.mdc_name}\")\nprint(f\"Relative Weight: {result.rw}\")\nprint(f\"Adjusted RW: {result.adjrw}\")\nprint(f\"PCL: {result.pcl}\")\nprint(f\"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17: {'\u0e1c\u0e48\u0e32\u0e15\u0e31\u0e14' if result.is_surgical else '\u0e23\u0e31\u0e01\u0e29\u0e32\u0e17\u0e31\u0e48\u0e27\u0e44\u0e1b'}\")\n</code></pre> <p>\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c: <pre><code>DRG Code: 04523\nDRG Name: Respiratory infection/inflammation w maj CCC\nMDC: 04 - Diseases &amp; Disorders of the Respiratory System\nRelative Weight: 3.1233\nAdjusted RW: 3.1233\nPCL: 3\n\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17: \u0e23\u0e31\u0e01\u0e29\u0e32\u0e17\u0e31\u0e48\u0e27\u0e44\u0e1b\n</code></pre></p>"},{"location":"th/examples/basic/#2-fracture-with-surgery","title":"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48 2: \u0e01\u0e23\u0e30\u0e14\u0e39\u0e01\u0e2b\u0e31\u0e01 + \u0e1c\u0e48\u0e32\u0e15\u0e31\u0e14 (Fracture with Surgery)","text":"<pre><code>result = manager.group_latest(\n    pdx='S82201D',           # Fracture of tibia\n    sdx=['E119', 'I10'],     # Diabetes + Hypertension\n    procedures=['7936'],     # Open reduction of fracture\n    age=45,\n    sex='M',\n    los=7\n)\n\nprint(f\"DRG: {result.drg}\")\nprint(f\"RW: {result.rw}\")\nprint(f\"Adj RW: {result.adjrw}\")\nprint(f\"\u0e21\u0e35 OR Procedure: {result.has_or_procedure}\")\nprint(f\"PCL: {result.pcl}\")\nprint(f\"CC: {len(result.cc_list)}, MCC: {len(result.mcc_list)}\")\n</code></pre> <p>\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c: <pre><code>DRG: 08173\nRW: 8.8892\nAdj RW: 8.8892\n\u0e21\u0e35 OR Procedure: True\nPCL: 4\nCC: 1, MCC: 1\n</code></pre></p>"},{"location":"th/examples/basic/#3-drg-versions","title":"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48 3: \u0e40\u0e1b\u0e23\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e35\u0e22\u0e1a DRG Versions","text":"<pre><code># \u0e40\u0e1b\u0e23\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e35\u0e22\u0e1a\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\u0e23\u0e30\u0e2b\u0e27\u0e48\u0e32\u0e07 version 5.1 \u0e41\u0e25\u0e30 6.3\nresults = manager.group_all_versions(\n    pdx='S82201D',\n    sdx=['E119'],\n    los=7\n)\n\nprint(\"\u0e40\u0e1b\u0e23\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e35\u0e22\u0e1a DRG Versions:\")\nprint(\"-\" * 50)\nfor version, result in results.items():\n    if result:\n        print(f\"Version {version}:\")\n        print(f\"  DRG: {result.drg}\")\n        print(f\"  RW: {result.rw}\")\n        print(f\"  Adj RW: {result.adjrw}\")\n        print()\n</code></pre>"},{"location":"th/examples/basic/#4-batch-processing","title":"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48 4: Batch Processing","text":""},{"location":"th/examples/basic/#1-csv","title":"\u0e27\u0e34\u0e18\u0e35\u0e17\u0e35\u0e48 1: \u0e2d\u0e48\u0e32\u0e19\u0e08\u0e32\u0e01 CSV","text":"<pre><code>import pandas as pd\n\n# \u0e2d\u0e48\u0e32\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\ndf = pd.read_csv('patients.csv')\n\n# \u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07 patients.csv:\n# hn,pdx,sdx,procedures,age,sex,los\n# 001,J189,E119,,65,M,5\n# 002,S82201D,\"E119,I10\",7936,45,M,7\n# 003,I219,,,55,F,3\n\n# \u0e1b\u0e23\u0e30\u0e21\u0e27\u0e25\u0e1c\u0e25\u0e17\u0e38\u0e01 case\nresults = []\nfor _, patient in df.iterrows():\n    # \u0e41\u0e1b\u0e25\u0e07 sdx \u0e41\u0e25\u0e30 procedures \u0e08\u0e32\u0e01 string \u0e40\u0e1b\u0e47\u0e19 list\n    sdx = patient['sdx'].split(',') if pd.notna(patient['sdx']) else []\n    procedures = patient['procedures'].split(',') if pd.notna(patient['procedures']) else []\n\n    # Group\n    result = manager.group_latest(\n        pdx=patient['pdx'],\n        sdx=sdx,\n        procedures=procedures,\n        age=int(patient['age']),\n        sex=patient['sex'],\n        los=int(patient['los'])\n    )\n\n    # \u0e40\u0e01\u0e47\u0e1a\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\n    results.append({\n        'hn': patient['hn'],\n        'drg': result.drg,\n        'drg_name': result.drg_name,\n        'rw': result.rw,\n        'adjrw': result.adjrw,\n        'pcl': result.pcl\n    })\n\n# \u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\nresults_df = pd.DataFrame(results)\nresults_df.to_csv('drg_results.csv', index=False)\n\nprint(f\"\u0e1b\u0e23\u0e30\u0e21\u0e27\u0e25\u0e1c\u0e25 {len(results)} cases \u0e40\u0e2a\u0e23\u0e47\u0e08\u0e2a\u0e34\u0e49\u0e19\")\nprint(f\"Total RW: {results_df['rw'].sum():.2f}\")\nprint(f\"Average RW: {results_df['rw'].mean():.2f}\")\n</code></pre>"},{"location":"th/examples/basic/#2-function","title":"\u0e27\u0e34\u0e18\u0e35\u0e17\u0e35\u0e48 2: \u0e43\u0e0a\u0e49 Function","text":"<pre><code>def batch_group(cases):\n    \"\"\"\n    Group \u0e2b\u0e25\u0e32\u0e22 cases \u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e01\u0e31\u0e19\n\n    Args:\n        cases: list of dict containing patient data\n\n    Returns:\n        list of results\n    \"\"\"\n    results = []\n    for case in cases:\n        result = manager.group_latest(**case)\n        results.append({\n            'drg': result.drg,\n            'rw': result.rw,\n            'adjrw': result.adjrw,\n            'pcl': result.pcl\n        })\n    return results\n\n# \u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\ncases = [\n    {'pdx': 'J189', 'sdx': ['E119'], 'age': 65, 'sex': 'M', 'los': 5},\n    {'pdx': 'I219', 'age': 55, 'sex': 'F', 'los': 3},\n    {'pdx': 'S82201D', 'sdx': ['E119'], 'procedures': ['7936'], 'age': 45, 'sex': 'M', 'los': 7}\n]\n\nresults = batch_group(cases)\nfor i, r in enumerate(results, 1):\n    print(f\"Case {i}: DRG={r['drg']}, RW={r['rw']}\")\n</code></pre>"},{"location":"th/examples/basic/#5-rest-api","title":"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48 5: \u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e1c\u0e48\u0e32\u0e19 REST API","text":""},{"location":"th/examples/basic/#api-server","title":"\u0e40\u0e23\u0e34\u0e48\u0e21 API Server","text":"<pre><code># \u0e27\u0e34\u0e18\u0e35\u0e17\u0e35\u0e48 1: \u0e43\u0e0a\u0e49 CLI\nthai-drg-grouper serve --port 8000\n\n# \u0e27\u0e34\u0e18\u0e35\u0e17\u0e35\u0e48 2: \u0e43\u0e0a\u0e49 uvicorn\nuvicorn thai_drg_grouper.api:app --port 8000 --reload\n\n# \u0e27\u0e34\u0e18\u0e35\u0e17\u0e35\u0e48 3: \u0e43\u0e0a\u0e49 Docker\ndocker run -p 8000:8000 ghcr.io/aegisx-platform/thai-drg-grouper:latest\n</code></pre>"},{"location":"th/examples/basic/#api","title":"\u0e40\u0e23\u0e35\u0e22\u0e01\u0e43\u0e0a\u0e49 API","text":""},{"location":"th/examples/basic/#python-requests","title":"Python (requests)","text":"<pre><code>import requests\nimport json\n\n# Group single case\nresponse = requests.post(\n    'http://localhost:8000/group',\n    json={\n        'pdx': 'J189',\n        'sdx': ['E119'],\n        'age': 65,\n        'sex': 'M',\n        'los': 5\n    }\n)\n\nresult = response.json()\nprint(f\"DRG: {result['drg']}\")\nprint(f\"RW: {result['rw']}\")\n</code></pre>"},{"location":"th/examples/basic/#curl","title":"curl","text":"<pre><code># Group single case\ncurl -X POST http://localhost:8000/group \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"pdx\": \"J189\",\n    \"sdx\": [\"E119\"],\n    \"age\": 65,\n    \"sex\": \"M\",\n    \"los\": 5\n  }'\n\n# \u0e41\u0e2a\u0e14\u0e07 versions\ncurl http://localhost:8000/versions\n\n# Health check\ncurl http://localhost:8000/health\n</code></pre>"},{"location":"th/examples/basic/#6","title":"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48 6: \u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07","text":"<pre><code>result = manager.group_latest(\n    pdx='J189',\n    sdx=['E119'],\n    age=65,\n    sex='M',\n    los=5\n)\n\n# \u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e27\u0e48\u0e32 group \u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48\nif result.is_valid:\n    print(f\"\u2713 Group \u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08: DRG={result.drg}\")\nelse:\n    print(\"\u2717 \u0e40\u0e01\u0e34\u0e14\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14:\")\n    for error in result.errors:\n        print(f\"  - {error}\")\n\n    # \u0e04\u0e33\u0e40\u0e15\u0e37\u0e2d\u0e19 (\u0e16\u0e49\u0e32\u0e21\u0e35)\n    if result.warnings:\n        print(\"\u0e04\u0e33\u0e40\u0e15\u0e37\u0e2d\u0e19:\")\n        for warning in result.warnings:\n            print(f\"  - {warning}\")\n</code></pre>"},{"location":"th/examples/basic/#7","title":"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48 7: \u0e14\u0e39\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2a\u0e16\u0e34\u0e15\u0e34","text":"<pre><code># \u0e14\u0e39\u0e2a\u0e16\u0e34\u0e15\u0e34\u0e02\u0e2d\u0e07 version \u0e17\u0e35\u0e48\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\nstats = manager.get_stats('6.3')\n\nprint(f\"DRG Version: {stats['version']}\")\nprint(f\"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e23\u0e2b\u0e31\u0e2a ICD-10: {stats['icd10_count']:,}\")\nprint(f\"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e2b\u0e31\u0e15\u0e16\u0e01\u0e32\u0e23: {stats['procedure_count']:,}\")\nprint(f\"\u0e08\u0e33\u0e19\u0e27\u0e19 Disease Cluster: {stats['dc_count']:,}\")\nprint(f\"\u0e08\u0e33\u0e19\u0e27\u0e19 DRG: {stats['drg_count']:,}\")\nprint(f\"\u0e08\u0e33\u0e19\u0e27\u0e19\u0e01\u0e0e CC Exclusion: {stats['cc_exclusion_count']:,}\")\n</code></pre> <p>\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c: <pre><code>DRG Version: 6.3\n\u0e08\u0e33\u0e19\u0e27\u0e19\u0e23\u0e2b\u0e31\u0e2a ICD-10: 15,109\n\u0e08\u0e33\u0e19\u0e27\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e2b\u0e31\u0e15\u0e16\u0e01\u0e32\u0e23: 7,695\n\u0e08\u0e33\u0e19\u0e27\u0e19 Disease Cluster: 605\n\u0e08\u0e33\u0e19\u0e27\u0e19 DRG: 1,546\n\u0e08\u0e33\u0e19\u0e27\u0e19\u0e01\u0e0e CC Exclusion: 1,916\n</code></pre></p>"},{"location":"th/examples/basic/#8-versions","title":"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48 8: \u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23 Versions","text":"<pre><code># \u0e41\u0e2a\u0e14\u0e07 versions \u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14\nversions = manager.list_versions()\nfor v in versions:\n    print(f\"Version: {v.version}\")\n    print(f\"  Name: {v.name}\")\n    print(f\"  Release Date: {v.release_date}\")\n    print(f\"  Default: {v.is_default}\")\n    print(f\"  Rights: {', '.join(v.rights)}\")\n    print()\n\n# \u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19 default version\nmanager.set_default_version('6.3')\n\n# \u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a default version\ndefault = manager.get_default_version()\nprint(f\"Default version: {default}\")\n</code></pre>"},{"location":"th/examples/basic/#9","title":"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48 9: \u0e41\u0e2a\u0e14\u0e07\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\u0e41\u0e1a\u0e1a\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14","text":"<pre><code>def print_result_detailed(result):\n    \"\"\"\u0e41\u0e2a\u0e14\u0e07\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\u0e41\u0e1a\u0e1a\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\"\"\"\n    print(\"=\" * 60)\n    print(\"\u0e1c\u0e25\u0e01\u0e32\u0e23 Group DRG\")\n    print(\"=\" * 60)\n    print(f\"\\n\ud83d\udccb \u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1e\u0e37\u0e49\u0e19\u0e10\u0e32\u0e19\")\n    print(f\"  PDx: {result.pdx}\")\n    print(f\"  SDx: {', '.join(result.sdx) if result.sdx else '-'}\")\n    print(f\"  Procedures: {', '.join(result.procedures) if result.procedures else '-'}\")\n    print(f\"  \u0e2d\u0e32\u0e22\u0e38: {result.age} \u0e1b\u0e35\")\n    print(f\"  \u0e40\u0e1e\u0e28: {result.sex}\")\n    print(f\"  LOS: {result.los} \u0e27\u0e31\u0e19\")\n\n    print(f\"\\n\ud83c\udfe5 \u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c DRG\")\n    print(f\"  DRG Code: {result.drg}\")\n    print(f\"  DRG Name: {result.drg_name}\")\n    print(f\"  MDC: {result.mdc} - {result.mdc_name}\")\n    print(f\"  Disease Cluster: {result.dc}\")\n\n    print(f\"\\n\ud83d\udcb0 Relative Weight\")\n    print(f\"  RW: {result.rw}\")\n    print(f\"  RW (0 day): {result.rw0d}\")\n    print(f\"  Adjusted RW: {result.adjrw}\")\n    print(f\"  LOS Status: {result.los_status}\")\n\n    print(f\"\\n\ud83c\udfaf Patient Complexity\")\n    print(f\"  PCL: {result.pcl}\")\n    print(f\"  CC: {len(result.cc_list)}\")\n    print(f\"  MCC: {len(result.mcc_list)}\")\n    if result.cc_list:\n        print(f\"  CC List: {', '.join(result.cc_list)}\")\n    if result.mcc_list:\n        print(f\"  MCC List: {', '.join(result.mcc_list)}\")\n\n    print(f\"\\n\u2695\ufe0f  \u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e01\u0e32\u0e23\u0e23\u0e31\u0e01\u0e29\u0e32\")\n    print(f\"  \u0e21\u0e35 OR Procedure: {'\u0e43\u0e0a\u0e48' if result.has_or_procedure else '\u0e44\u0e21\u0e48'}\")\n    print(f\"  \u0e1c\u0e48\u0e32\u0e15\u0e31\u0e14: {'\u0e43\u0e0a\u0e48' if result.is_surgical else '\u0e44\u0e21\u0e48'}\")\n\n    print(f\"\\n\u2705 \u0e2a\u0e16\u0e32\u0e19\u0e30\")\n    print(f\"  Valid: {result.is_valid}\")\n    if result.errors:\n        print(f\"  Errors: {', '.join(result.errors)}\")\n    if result.warnings:\n        print(f\"  Warnings: {', '.join(result.warnings)}\")\n\n    print(\"=\" * 60)\n\n# \u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\nresult = manager.group_latest(pdx='J189', sdx=['E119'], age=65, sex='M', los=5)\nprint_result_detailed(result)\n</code></pre>"},{"location":"th/examples/basic/#10-integration-his","title":"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e17\u0e35\u0e48 10: Integration \u0e01\u0e31\u0e1a\u0e23\u0e30\u0e1a\u0e1a HIS","text":"<pre><code>class DRGService:\n    \"\"\"Service \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a integrate \u0e01\u0e31\u0e1a\u0e23\u0e30\u0e1a\u0e1a HIS\"\"\"\n\n    def __init__(self, versions_path='./data/versions'):\n        self.manager = ThaiDRGGrouperManager(versions_path)\n\n    def group_admission(self, admission_data):\n        \"\"\"\n        Group \u0e08\u0e32\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 admission\n\n        Args:\n            admission_data: dict \u0e21\u0e35\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 AN, HN, PDx, SDx, etc.\n\n        Returns:\n            dict: \u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c DRG\n        \"\"\"\n        result = self.manager.group_latest(\n            pdx=admission_data['pdx'],\n            sdx=admission_data.get('sdx', []),\n            procedures=admission_data.get('procedures', []),\n            age=admission_data['age'],\n            sex=admission_data['sex'],\n            los=admission_data['los']\n        )\n\n        return {\n            'an': admission_data['an'],\n            'hn': admission_data['hn'],\n            'drg': result.drg,\n            'drg_name': result.drg_name,\n            'rw': result.rw,\n            'adjrw': result.adjrw,\n            'pcl': result.pcl,\n            'is_valid': result.is_valid,\n            'grouped_at': result.grouped_at\n        }\n\n    def batch_group_admissions(self, admissions):\n        \"\"\"Group \u0e2b\u0e25\u0e32\u0e22 admissions\"\"\"\n        return [self.group_admission(adm) for adm in admissions]\n\n# \u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\nservice = DRGService()\n\nadmission = {\n    'an': '67001234',\n    'hn': '1234567',\n    'pdx': 'J189',\n    'sdx': ['E119'],\n    'age': 65,\n    'sex': 'M',\n    'los': 5\n}\n\nresult = service.group_admission(admission)\nprint(f\"AN: {result['an']}, DRG: {result['drg']}, RW: {result['rw']}\")\n</code></pre>"},{"location":"th/examples/basic/#_2","title":"\u0e02\u0e49\u0e2d\u0e41\u0e19\u0e30\u0e19\u0e33\u0e43\u0e19\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19","text":"<ol> <li>\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07: \u0e04\u0e27\u0e23\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a <code>result.is_valid</code> \u0e17\u0e38\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07</li> <li>\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23 Error: \u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a <code>result.errors</code> \u0e41\u0e25\u0e30 <code>result.warnings</code></li> <li>\u0e43\u0e0a\u0e49 Version \u0e17\u0e35\u0e48\u0e40\u0e2b\u0e21\u0e32\u0e30\u0e2a\u0e21: \u0e40\u0e25\u0e37\u0e2d\u0e01\u0e43\u0e0a\u0e49 DRG version \u0e17\u0e35\u0e48\u0e15\u0e23\u0e07\u0e01\u0e31\u0e1a\u0e0a\u0e48\u0e27\u0e07\u0e40\u0e27\u0e25\u0e32\u0e17\u0e35\u0e48\u0e23\u0e31\u0e01\u0e29\u0e32</li> <li>Validate \u0e01\u0e31\u0e1a Official: \u0e04\u0e27\u0e23\u0e40\u0e17\u0e35\u0e22\u0e1a\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\u0e01\u0e31\u0e1a\u0e42\u0e1b\u0e23\u0e41\u0e01\u0e23\u0e21 TGrp Official</li> <li>Batch Processing: \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e08\u0e33\u0e19\u0e27\u0e19\u0e21\u0e32\u0e01 \u0e04\u0e27\u0e23\u0e43\u0e0a\u0e49 batch processing \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e1b\u0e23\u0e30\u0e2a\u0e34\u0e17\u0e18\u0e34\u0e20\u0e32\u0e1e</li> </ol>"},{"location":"th/examples/basic/#_3","title":"\u0e14\u0e39\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21","text":"<ul> <li>Python API Reference</li> <li>REST API Reference</li> <li>\u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e41\u0e25\u0e30\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32</li> </ul>"},{"location":"th/getting-started/installation/","title":"\u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 Thai DRG Grouper","text":""},{"location":"th/getting-started/installation/#_1","title":"\u0e04\u0e27\u0e32\u0e21\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e02\u0e2d\u0e07\u0e23\u0e30\u0e1a\u0e1a","text":"<ul> <li>Python 3.8 \u0e02\u0e36\u0e49\u0e19\u0e44\u0e1b</li> <li>pip (Python package manager)</li> <li>\u0e23\u0e30\u0e1a\u0e1a\u0e1b\u0e0f\u0e34\u0e1a\u0e31\u0e15\u0e34\u0e01\u0e32\u0e23: Linux, macOS, \u0e2b\u0e23\u0e37\u0e2d Windows</li> </ul>"},{"location":"th/getting-started/installation/#_2","title":"\u0e27\u0e34\u0e18\u0e35\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07","text":""},{"location":"th/getting-started/installation/#1-pypi","title":"1. \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e08\u0e32\u0e01 PyPI (\u0e41\u0e19\u0e30\u0e19\u0e33)","text":"<pre><code># \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e41\u0e1a\u0e1a\u0e1e\u0e37\u0e49\u0e19\u0e10\u0e32\u0e19\npip install thai-drg-grouper\n</code></pre>"},{"location":"th/getting-started/installation/#2-optional-dependencies","title":"2. \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e1e\u0e23\u0e49\u0e2d\u0e21 Optional Dependencies","text":""},{"location":"th/getting-started/installation/#api-support-fastapi-uvicorn","title":"\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e1e\u0e23\u0e49\u0e2d\u0e21 API Support (FastAPI + Uvicorn)","text":"<pre><code>pip install thai-drg-grouper[api]\n</code></pre>"},{"location":"th/getting-started/installation/#development-tools","title":"\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e1e\u0e23\u0e49\u0e2d\u0e21 Development Tools","text":"<pre><code>pip install thai-drg-grouper[dev]\n</code></pre>"},{"location":"th/getting-started/installation/#documentation-tools","title":"\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e1e\u0e23\u0e49\u0e2d\u0e21 Documentation Tools","text":"<pre><code>pip install thai-drg-grouper[docs]\n</code></pre>"},{"location":"th/getting-started/installation/#_3","title":"\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e41\u0e1a\u0e1a\u0e04\u0e23\u0e1a\u0e17\u0e38\u0e01\u0e2d\u0e22\u0e48\u0e32\u0e07","text":"<pre><code>pip install thai-drg-grouper[all]\n</code></pre>"},{"location":"th/getting-started/installation/#3-source-code","title":"3. \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e08\u0e32\u0e01 Source Code","text":"<pre><code># Clone repository\ngit clone https://github.com/aegisx-platform/thai-drg-grouper.git\ncd thai-drg-grouper\n\n# \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e41\u0e1a\u0e1a development mode\npip install -e .[all]\n</code></pre>"},{"location":"th/getting-started/installation/#4-docker","title":"4. \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e1c\u0e48\u0e32\u0e19 Docker","text":"<pre><code># Pull Docker image \u0e08\u0e32\u0e01 GitHub Container Registry\ndocker pull ghcr.io/aegisx-platform/thai-drg-grouper:latest\n\n# \u0e2b\u0e23\u0e37\u0e2d Build \u0e40\u0e2d\u0e07\ndocker build -t thai-drg-grouper .\n</code></pre>"},{"location":"th/getting-started/installation/#_4","title":"\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07","text":""},{"location":"th/getting-started/installation/#version","title":"\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a Version","text":"<pre><code>thai-drg-grouper --version\n</code></pre>"},{"location":"th/getting-started/installation/#help","title":"\u0e41\u0e2a\u0e14\u0e07 Help","text":"<pre><code>thai-drg-grouper --help\n</code></pre>"},{"location":"th/getting-started/installation/#import","title":"\u0e17\u0e14\u0e2a\u0e2d\u0e1a Import","text":"<pre><code>python3 -c \"from thai_drg_grouper import ThaiDRGGrouperManager; print('\u2713 \u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08!')\"\n</code></pre>"},{"location":"th/getting-started/installation/#drg-versions","title":"\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 DRG Versions","text":"<p>\u0e2b\u0e25\u0e31\u0e07\u0e08\u0e32\u0e01\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e41\u0e25\u0e49\u0e27 \u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 DRG versions:</p>"},{"location":"th/getting-started/installation/#tcmc","title":"\u0e14\u0e32\u0e27\u0e19\u0e4c\u0e42\u0e2b\u0e25\u0e14\u0e08\u0e32\u0e01 TCMC","text":"<pre><code># \u0e41\u0e2a\u0e14\u0e07 versions \u0e17\u0e35\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e14\u0e32\u0e27\u0e19\u0e4c\u0e42\u0e2b\u0e25\u0e14\u0e44\u0e14\u0e49\nthai-drg-grouper download\n\n# \u0e14\u0e32\u0e27\u0e19\u0e4c\u0e42\u0e2b\u0e25\u0e14 version 6.3\nthai-drg-grouper download --version 6.3 --set-default\n</code></pre>"},{"location":"th/getting-started/installation/#_5","title":"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e08\u0e32\u0e01\u0e44\u0e1f\u0e25\u0e4c\u0e17\u0e35\u0e48\u0e21\u0e35\u0e2d\u0e22\u0e39\u0e48\u0e41\u0e25\u0e49\u0e27","text":"<pre><code># \u0e40\u0e1e\u0e34\u0e48\u0e21\u0e08\u0e32\u0e01 zip file\nthai-drg-grouper add --version 6.3 --source /path/to/TGrp63.zip --set-default\n\n# \u0e40\u0e1e\u0e34\u0e48\u0e21\u0e08\u0e32\u0e01 folder\nthai-drg-grouper add --version 6.3 --source /path/to/TGrp63/ --set-default\n</code></pre>"},{"location":"th/getting-started/installation/#versions","title":"\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a Versions \u0e17\u0e35\u0e48\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07","text":"<pre><code>thai-drg-grouper list\n</code></pre> <p>\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c: <pre><code>Available versions (1):\n--------------------------------------------------\n  6.3 (default)\n    Name: Thai DRG Version 6.3\n    Rights: UC, CSMBS, SSS\n</code></pre></p>"},{"location":"th/getting-started/installation/#_6","title":"\u0e42\u0e04\u0e23\u0e07\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e44\u0e1f\u0e25\u0e4c\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25","text":"<pre><code>data/versions/\n\u251c\u2500\u2500 config.json              # \u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32 default version\n\u251c\u2500\u2500 6.3/\n\u2502   \u251c\u2500\u2500 version.json         # \u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 metadata \u0e02\u0e2d\u0e07 version\n\u2502   \u2514\u2500\u2500 data/\n\u2502       \u251c\u2500\u2500 c63i10.dbf       # \u0e23\u0e2b\u0e31\u0e2a ICD-10\n\u2502       \u251c\u2500\u2500 c63proc.dbf      # \u0e23\u0e2b\u0e31\u0e2a\u0e2b\u0e31\u0e15\u0e16\u0e01\u0e32\u0e23\n\u2502       \u251c\u2500\u2500 c63drg.dbf       # \u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 DRG\n\u2502       \u2514\u2500\u2500 c63ccex.dbf      # \u0e01\u0e0e CC Exclusion\n\u2514\u2500\u2500 6.3.4/\n    \u2514\u2500\u2500 ...\n</code></pre>"},{"location":"th/getting-started/installation/#configuration","title":"\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32 (Configuration)","text":""},{"location":"th/getting-started/installation/#environment-variables","title":"\u0e15\u0e31\u0e27\u0e41\u0e1b\u0e23 Environment Variables","text":"<p>\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32 API server \u0e1c\u0e48\u0e32\u0e19 environment variables \u0e42\u0e14\u0e22\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e44\u0e1f\u0e25\u0e4c <code>.env</code> \u0e43\u0e19\u0e42\u0e1f\u0e25\u0e40\u0e14\u0e2d\u0e23\u0e4c\u0e17\u0e35\u0e48\u0e23\u0e31\u0e19\u0e42\u0e1b\u0e23\u0e41\u0e01\u0e23\u0e21:</p> <pre><code># \u0e04\u0e31\u0e14\u0e25\u0e2d\u0e01\u0e44\u0e1f\u0e25\u0e4c\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\ncp .env.example .env\n</code></pre>"},{"location":"th/getting-started/installation/#_7","title":"\u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32","text":""},{"location":"th/getting-started/installation/#cors","title":"\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32 CORS","text":"<p>\u0e01\u0e33\u0e2b\u0e19\u0e14 origins \u0e17\u0e35\u0e48\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e43\u0e2b\u0e49\u0e40\u0e23\u0e35\u0e22\u0e01 API (\u0e04\u0e31\u0e48\u0e19\u0e14\u0e49\u0e27\u0e22 comma):</p> <pre><code># \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a Development (\u0e04\u0e48\u0e32 default)\nCORS_ORIGINS=http://localhost:4200,http://localhost:3000\n\n# \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a Production\nCORS_ORIGINS=https://your-app.example.com,https://another-app.example.com\n</code></pre> <p>Origins \u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19: - <code>http://localhost:4200</code> - Angular development server - <code>http://localhost:3000</code> - React/Vite development server</p>"},{"location":"th/getting-started/installation/#server","title":"\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32 Server","text":"<pre><code># \u0e01\u0e33\u0e2b\u0e19\u0e14 host \u0e41\u0e25\u0e30 port (\u0e16\u0e49\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23)\nHOST=0.0.0.0\nPORT=8000\n</code></pre>"},{"location":"th/getting-started/installation/#env","title":"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e44\u0e1f\u0e25\u0e4c .env","text":"<pre><code># CORS Configuration\nCORS_ORIGINS=http://localhost:4200,http://localhost:3000\n\n# Server Configuration\n# HOST=0.0.0.0\n# PORT=8000\n</code></pre>"},{"location":"th/getting-started/installation/#docker","title":"\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e01\u0e31\u0e1a Docker","text":"<p>\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e43\u0e0a\u0e49 Docker \u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e2a\u0e48\u0e07 environment variables \u0e1c\u0e48\u0e32\u0e19 <code>-e</code> flag:</p> <pre><code>docker run -p 8000:8000 \\\n  -e CORS_ORIGINS=\"https://your-app.com\" \\\n  ghcr.io/aegisx-platform/thai-drg-grouper:latest\n</code></pre> <p>\u0e2b\u0e23\u0e37\u0e2d\u0e43\u0e0a\u0e49\u0e44\u0e1f\u0e25\u0e4c <code>.env</code>:</p> <pre><code>docker run -p 8000:8000 --env-file .env \\\n  ghcr.io/aegisx-platform/thai-drg-grouper:latest\n</code></pre>"},{"location":"th/getting-started/installation/#_8","title":"\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02\u0e1b\u0e31\u0e0d\u0e2b\u0e32\u0e17\u0e35\u0e48\u0e1e\u0e1a\u0e1a\u0e48\u0e2d\u0e22","text":""},{"location":"th/getting-started/installation/#importerror-no-module-named-dbfread","title":"\u0e1b\u0e31\u0e0d\u0e2b\u0e32: ImportError - No module named 'dbfread'","text":"<p>\u0e2a\u0e32\u0e40\u0e2b\u0e15\u0e38: \u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 dependency \u0e41\u0e01\u0e49\u0e44\u0e02: <pre><code>pip install dbfread\n</code></pre></p>"},{"location":"th/getting-started/installation/#dataversions","title":"\u0e1b\u0e31\u0e0d\u0e2b\u0e32: \u0e44\u0e21\u0e48\u0e1e\u0e1a data/versions","text":"<p>\u0e2a\u0e32\u0e40\u0e2b\u0e15\u0e38: \u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e14\u0e32\u0e27\u0e19\u0e4c\u0e42\u0e2b\u0e25\u0e14\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 DRG \u0e41\u0e01\u0e49\u0e44\u0e02: <pre><code>thai-drg-grouper download --version 6.3 --set-default\n</code></pre></p>"},{"location":"th/getting-started/installation/#permission-denied-linuxmac","title":"\u0e1b\u0e31\u0e0d\u0e2b\u0e32: Permission denied \u0e1a\u0e19 Linux/Mac","text":"<p>\u0e2a\u0e32\u0e40\u0e2b\u0e15\u0e38: \u0e44\u0e21\u0e48\u0e21\u0e35\u0e2a\u0e34\u0e17\u0e18\u0e34\u0e4c\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 system-wide \u0e41\u0e01\u0e49\u0e44\u0e02: <pre><code># \u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e43\u0e19 user directory\npip install --user thai-drg-grouper\n\n# \u0e2b\u0e23\u0e37\u0e2d\u0e43\u0e0a\u0e49 virtual environment\npython3 -m venv venv\nsource venv/bin/activate\npip install thai-drg-grouper\n</code></pre></p>"},{"location":"th/getting-started/installation/#uvicorn-command-not-found","title":"\u0e1b\u0e31\u0e0d\u0e2b\u0e32: uvicorn: command not found","text":"<p>\u0e2a\u0e32\u0e40\u0e2b\u0e15\u0e38: \u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 API dependencies \u0e41\u0e01\u0e49\u0e44\u0e02: <pre><code>pip install thai-drg-grouper[api]\n</code></pre></p>"},{"location":"th/getting-started/installation/#_9","title":"\u0e02\u0e31\u0e49\u0e19\u0e15\u0e2d\u0e19\u0e16\u0e31\u0e14\u0e44\u0e1b","text":"<ul> <li>\ud83d\udcbb \u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19</li> <li>\ud83c\udf10 REST API Reference</li> <li>\ud83d\udcda Python API Reference</li> </ul>"},{"location":"th/reference/api/","title":"\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23 REST API","text":"<p>REST API \u0e02\u0e2d\u0e07 Thai DRG Grouper \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG \u0e1c\u0e48\u0e32\u0e19 HTTP endpoints</p>"},{"location":"th/reference/api/#base-url","title":"Base URL","text":"<pre><code>http://localhost:8000\n</code></pre>"},{"location":"th/reference/api/#interactive","title":"\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e41\u0e1a\u0e1a Interactive","text":"<ul> <li>Swagger UI: http://localhost:8000/docs</li> <li>ReDoc: http://localhost:8000/redoc</li> </ul>"},{"location":"th/reference/api/#endpoints","title":"Endpoints","text":""},{"location":"th/reference/api/#get","title":"GET /","text":"<p>\u0e14\u0e39\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 API</p> <p>Response: <pre><code>{\n  \"name\": \"Thai DRG Grouper API\",\n  \"version\": \"2.0.0\",\n  \"description\": \"REST API for Thai DRG grouping\"\n}\n</code></pre></p>"},{"location":"th/reference/api/#get-versions","title":"GET /versions","text":"<p>\u0e14\u0e39\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23 DRG versions \u0e17\u0e35\u0e48\u0e21\u0e35</p> <p>Response: <pre><code>{\n  \"versions\": [\"6.3\", \"6.3.4\"],\n  \"default\": \"6.3\"\n}\n</code></pre></p> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code>curl http://localhost:8000/versions\n</code></pre></p>"},{"location":"th/reference/api/#post-group","title":"POST /group","text":"<p>\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG \u0e42\u0e14\u0e22\u0e43\u0e0a\u0e49 version \u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19</p> <p>Request Body: <pre><code>{\n  \"pdx\": \"string\",           // \u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19: \u0e23\u0e2b\u0e31\u0e2a\u0e42\u0e23\u0e04\u0e2b\u0e25\u0e31\u0e01 (ICD-10)\n  \"sdx\": [\"string\"],         // \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01: \u0e23\u0e2b\u0e31\u0e2a\u0e42\u0e23\u0e04\u0e23\u0e48\u0e27\u0e21\n  \"procedures\": [\"string\"],  // \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01: \u0e23\u0e2b\u0e31\u0e2a\u0e2b\u0e31\u0e15\u0e16\u0e01\u0e32\u0e23 ICD-9-CM\n  \"age\": 0,                  // \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01: \u0e2d\u0e32\u0e22\u0e38\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\n  \"sex\": \"M\",               // \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01: M \u0e2b\u0e23\u0e37\u0e2d F\n  \"los\": 0,                 // \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01: \u0e27\u0e31\u0e19\u0e19\u0e2d\u0e19 (\u0e08\u0e33\u0e19\u0e27\u0e19\u0e27\u0e31\u0e19)\n  \"discharge_status\": \"1\",  // \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01: \u0e2a\u0e16\u0e32\u0e19\u0e30\u0e08\u0e33\u0e2b\u0e19\u0e48\u0e32\u0e22\n  \"admit_weight\": 0,        // \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01: \u0e19\u0e49\u0e33\u0e2b\u0e19\u0e31\u0e01\u0e41\u0e23\u0e01\u0e23\u0e31\u0e1a (\u0e01\u0e23\u0e31\u0e21 \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e17\u0e32\u0e23\u0e01)\n  \"type_in\": \"I\",          // \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01: I (\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e43\u0e19) \u0e2b\u0e23\u0e37\u0e2d O (\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e19\u0e2d\u0e01)\n  \"datetime_admit\": \"string\", // \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01: \u0e27\u0e31\u0e19\u0e40\u0e27\u0e25\u0e32\u0e23\u0e31\u0e1a\n  \"datetime_disch\": \"string\"  // \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01: \u0e27\u0e31\u0e19\u0e40\u0e27\u0e25\u0e32\u0e08\u0e33\u0e2b\u0e19\u0e48\u0e32\u0e22\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"drg\": \"08172\",\n  \"drg_name\": \"\u0e1c\u0e48\u0e32\u0e15\u0e31\u0e14\u0e01\u0e23\u0e30\u0e14\u0e39\u0e01\u0e41\u0e25\u0e30\u0e02\u0e49\u0e2d \u0e23\u0e30\u0e14\u0e31\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e0b\u0e31\u0e1a\u0e0b\u0e49\u0e2d\u0e19\u0e2a\u0e39\u0e07\",\n  \"mdc\": \"08\",\n  \"mdc_name\": \"\u0e23\u0e30\u0e1a\u0e1a\u0e42\u0e04\u0e23\u0e07\u0e01\u0e23\u0e30\u0e14\u0e39\u0e01\u0e41\u0e25\u0e30\u0e01\u0e25\u0e49\u0e32\u0e21\u0e40\u0e19\u0e37\u0e49\u0e2d\",\n  \"dc\": \"0817\",\n  \"dc_name\": \"\u0e1c\u0e48\u0e32\u0e15\u0e31\u0e14\u0e01\u0e23\u0e30\u0e14\u0e39\u0e01\u0e41\u0e25\u0e30\u0e02\u0e49\u0e2d\",\n  \"rw\": 5.0602,\n  \"rw0d\": 5.0602,\n  \"adjrw\": 5.0602,\n  \"pcl\": 3,\n  \"is_surgical\": true,\n  \"los_status\": \"normal\",\n  \"version\": \"6.3\"\n}\n</code></pre></p> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code>curl -X POST http://localhost:8000/group \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"pdx\": \"S82201D\",\n    \"sdx\": [\"E119\", \"I10\"],\n    \"procedures\": [\"7936\"],\n    \"age\": 25,\n    \"sex\": \"M\",\n    \"los\": 5\n  }'\n</code></pre></p>"},{"location":"th/reference/api/#post-groupversion","title":"POST /group/{version}","text":"<p>\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG \u0e42\u0e14\u0e22\u0e23\u0e30\u0e1a\u0e38 version \u0e40\u0e09\u0e1e\u0e32\u0e30</p> <p>Path Parameters: - <code>version</code> (string): DRG version (\u0e40\u0e0a\u0e48\u0e19 \"6.3\", \"6.3.4\")</p> <p>Request Body: \u0e40\u0e2b\u0e21\u0e37\u0e2d\u0e19\u0e01\u0e31\u0e1a <code>/group</code></p> <p>Response: \u0e40\u0e2b\u0e21\u0e37\u0e2d\u0e19\u0e01\u0e31\u0e1a <code>/group</code></p> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code>curl -X POST http://localhost:8000/group/6.3 \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"pdx\": \"J189\",\n    \"sdx\": [\"E119\"],\n    \"los\": 5\n  }'\n</code></pre></p>"},{"location":"th/reference/api/#post-groupcompare","title":"POST /group/compare","text":"<p>\u0e40\u0e1b\u0e23\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e35\u0e22\u0e1a\u0e1c\u0e25\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG \u0e02\u0e49\u0e32\u0e21 versions \u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14</p> <p>Request Body: \u0e40\u0e2b\u0e21\u0e37\u0e2d\u0e19\u0e01\u0e31\u0e1a <code>/group</code></p> <p>Response: <pre><code>{\n  \"6.3\": {\n    \"drg\": \"04102\",\n    \"drg_name\": \"\u0e42\u0e23\u0e04\u0e1b\u0e2d\u0e14 \u0e23\u0e30\u0e14\u0e31\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e0b\u0e31\u0e1a\u0e0b\u0e49\u0e2d\u0e19\u0e1b\u0e32\u0e19\u0e01\u0e25\u0e32\u0e07\",\n    \"rw\": 1.2345,\n    ...\n  },\n  \"6.3.4\": {\n    \"drg\": \"04102\",\n    \"drg_name\": \"\u0e42\u0e23\u0e04\u0e1b\u0e2d\u0e14 \u0e23\u0e30\u0e14\u0e31\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e0b\u0e31\u0e1a\u0e0b\u0e49\u0e2d\u0e19\u0e1b\u0e32\u0e19\u0e01\u0e25\u0e32\u0e07\",\n    \"rw\": 1.2500,\n    ...\n  }\n}\n</code></pre></p> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code>curl -X POST http://localhost:8000/group/compare \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"pdx\": \"J189\",\n    \"los\": 5\n  }'\n</code></pre></p>"},{"location":"th/reference/api/#post-groupbatch","title":"POST /group/batch","text":"<p>\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG \u0e2b\u0e25\u0e32\u0e22\u0e23\u0e32\u0e22\u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e01\u0e31\u0e19</p> <p>Request Body: <pre><code>{\n  \"cases\": [\n    {\n      \"pdx\": \"string\",\n      \"sdx\": [\"string\"],\n      \"procedures\": [\"string\"],\n      \"age\": 0,\n      \"sex\": \"M\",\n      \"los\": 0\n    }\n  ],\n  \"version\": \"6.3\"  // \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01: version \u0e40\u0e09\u0e1e\u0e32\u0e30\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"results\": [\n    {\n      \"drg\": \"08172\",\n      \"drg_name\": \"...\",\n      ...\n    }\n  ]\n}\n</code></pre></p> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code>curl -X POST http://localhost:8000/group/batch \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"cases\": [\n      {\"pdx\": \"J189\", \"los\": 5},\n      {\"pdx\": \"S82201D\", \"procedures\": [\"7936\"], \"los\": 7}\n    ]\n  }'\n</code></pre></p>"},{"location":"th/reference/api/#get-health","title":"GET /health","text":"<p>\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e2a\u0e16\u0e32\u0e19\u0e30 API</p> <p>Response: <pre><code>{\n  \"status\": \"healthy\",\n  \"version\": \"6.3\",\n  \"versions_available\": [\"6.3\", \"6.3.4\"]\n}\n</code></pre></p> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code>curl http://localhost:8000/health\n</code></pre></p>"},{"location":"th/reference/api/#response","title":"\u0e1f\u0e34\u0e25\u0e14\u0e4c\u0e43\u0e19 Response","text":""},{"location":"th/reference/api/#drg-result-object","title":"DRG Result Object","text":"\u0e1f\u0e34\u0e25\u0e14\u0e4c \u0e0a\u0e19\u0e34\u0e14 \u0e04\u0e33\u0e2d\u0e18\u0e34\u0e1a\u0e32\u0e22 <code>drg</code> string \u0e23\u0e2b\u0e31\u0e2a DRG (5 \u0e2b\u0e25\u0e31\u0e01) <code>drg_name</code> string \u0e0a\u0e37\u0e48\u0e2d DRG \u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22 <code>mdc</code> string Major Diagnostic Category (2 \u0e2b\u0e25\u0e31\u0e01) <code>mdc_name</code> string \u0e0a\u0e37\u0e48\u0e2d MDC \u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22 <code>dc</code> string Disease Cluster (4 \u0e2b\u0e25\u0e31\u0e01) <code>dc_name</code> string \u0e0a\u0e37\u0e48\u0e2d Disease Cluster <code>rw</code> float Relative Weight (\u0e19\u0e49\u0e33\u0e2b\u0e19\u0e31\u0e01\u0e2a\u0e31\u0e21\u0e1e\u0e31\u0e17\u0e18\u0e4c) <code>rw0d</code> float Relative Weight \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a day case <code>adjrw</code> float Adjusted RW (\u0e1b\u0e23\u0e31\u0e1a\u0e15\u0e32\u0e21\u0e27\u0e31\u0e19\u0e19\u0e2d\u0e19) <code>pcl</code> integer Patient Complexity Level (0-4) <code>is_surgical</code> boolean \u0e40\u0e1b\u0e47\u0e19 DRG \u0e1c\u0e48\u0e32\u0e15\u0e31\u0e14\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48 <code>los_status</code> string <code>daycase</code>, <code>normal</code>, \u0e2b\u0e23\u0e37\u0e2d <code>long_stay</code> <code>version</code> string DRG version \u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49"},{"location":"th/reference/api/#pcl","title":"\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e0b\u0e31\u0e1a\u0e0b\u0e49\u0e2d\u0e19\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22 (PCL)","text":"PCL \u0e04\u0e33\u0e2d\u0e18\u0e34\u0e1a\u0e32\u0e22 0 \u0e44\u0e21\u0e48\u0e21\u0e35\u0e20\u0e32\u0e27\u0e30\u0e41\u0e17\u0e23\u0e01\u0e0b\u0e49\u0e2d\u0e19 1 \u0e21\u0e35\u0e20\u0e32\u0e27\u0e30\u0e41\u0e17\u0e23\u0e01\u0e0b\u0e49\u0e2d\u0e19\u0e40\u0e25\u0e47\u0e01\u0e19\u0e49\u0e2d\u0e22 (CC) 2 \u0e21\u0e35\u0e20\u0e32\u0e27\u0e30\u0e41\u0e17\u0e23\u0e01\u0e0b\u0e49\u0e2d\u0e19\u0e1b\u0e32\u0e19\u0e01\u0e25\u0e32\u0e07 3 \u0e21\u0e35\u0e20\u0e32\u0e27\u0e30\u0e41\u0e17\u0e23\u0e01\u0e0b\u0e49\u0e2d\u0e19\u0e21\u0e32\u0e01 (MCC) 4 \u0e21\u0e35\u0e20\u0e32\u0e27\u0e30\u0e41\u0e17\u0e23\u0e01\u0e0b\u0e49\u0e2d\u0e19\u0e23\u0e38\u0e19\u0e41\u0e23\u0e07"},{"location":"th/reference/api/#error-responses","title":"Error Responses","text":""},{"location":"th/reference/api/#400-bad-request","title":"400 Bad Request","text":"<p>\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e44\u0e21\u0e48\u0e16\u0e39\u0e01\u0e15\u0e49\u0e2d\u0e07</p> <pre><code>{\n  \"detail\": \"Principal diagnosis (pdx) is required\"\n}\n</code></pre>"},{"location":"th/reference/api/#404-not-found","title":"404 Not Found","text":"<p>\u0e44\u0e21\u0e48\u0e1e\u0e1a version \u0e17\u0e35\u0e48\u0e23\u0e30\u0e1a\u0e38</p> <pre><code>{\n  \"detail\": \"Version '6.4' not found\"\n}\n</code></pre>"},{"location":"th/reference/api/#500-internal-server-error","title":"500 Internal Server Error","text":"<p>\u0e02\u0e49\u0e2d\u0e1c\u0e34\u0e14\u0e1e\u0e25\u0e32\u0e14\u0e02\u0e2d\u0e07\u0e40\u0e0b\u0e34\u0e23\u0e4c\u0e1f\u0e40\u0e27\u0e2d\u0e23\u0e4c</p> <pre><code>{\n  \"detail\": \"Internal server error message\"\n}\n</code></pre>"},{"location":"th/reference/api/#cors","title":"\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32 CORS","text":"<p>API \u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a Cross-Origin Resource Sharing (CORS) \u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e01\u0e33\u0e2b\u0e19\u0e14 origins \u0e17\u0e35\u0e48\u0e2d\u0e19\u0e38\u0e0d\u0e32\u0e15\u0e1c\u0e48\u0e32\u0e19 environment variable:</p> <pre><code>CORS_ORIGINS=http://localhost:4200,https://your-app.com\n</code></pre> <p>Origins \u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19: - <code>http://localhost:4200</code> - Angular development server - <code>http://localhost:3000</code> - React/Vite development server</p> <p>\u0e14\u0e39\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21\u0e17\u0e35\u0e48 \u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32</p>"},{"location":"th/reference/api/#rate-limiting","title":"Rate Limiting","text":"<p>\u0e1b\u0e31\u0e08\u0e08\u0e38\u0e1a\u0e31\u0e19\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e21\u0e35 rate limiting \u0e2b\u0e32\u0e01\u0e19\u0e33\u0e44\u0e1b\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e08\u0e23\u0e34\u0e07 \u0e41\u0e19\u0e30\u0e19\u0e33\u0e43\u0e2b\u0e49\u0e40\u0e1e\u0e34\u0e48\u0e21 rate limiting</p>"},{"location":"th/reference/api/#authentication","title":"Authentication","text":"<p>API \u0e1b\u0e31\u0e08\u0e08\u0e38\u0e1a\u0e31\u0e19\u0e44\u0e21\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e01\u0e32\u0e23 authenticate \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e08\u0e23\u0e34\u0e07 \u0e41\u0e19\u0e30\u0e19\u0e33\u0e43\u0e2b\u0e49\u0e40\u0e1e\u0e34\u0e48\u0e21: - API key authentication - JWT tokens - OAuth 2.0</p>"},{"location":"th/reference/api/#_1","title":"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19","text":""},{"location":"th/reference/api/#python-requests","title":"Python \u0e01\u0e31\u0e1a requests","text":"<pre><code>import requests\n\n# \u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG\nresponse = requests.post(\n    \"http://localhost:8000/group\",\n    json={\n        \"pdx\": \"J189\",\n        \"sdx\": [\"E119\", \"I10\"],\n        \"age\": 65,\n        \"sex\": \"M\",\n        \"los\": 5\n    }\n)\nresult = response.json()\nprint(f\"DRG: {result['drg']}, RW: {result['rw']}\")\n</code></pre>"},{"location":"th/reference/api/#javascript-fetch","title":"JavaScript \u0e01\u0e31\u0e1a fetch","text":"<pre><code>// \u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG\nconst response = await fetch('http://localhost:8000/group', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({\n    pdx: 'J189',\n    sdx: ['E119', 'I10'],\n    age: 65,\n    sex: 'M',\n    los: 5\n  })\n});\nconst result = await response.json();\nconsole.log(`DRG: ${result.drg}, RW: ${result.rw}`);\n</code></pre>"},{"location":"th/reference/api/#curl","title":"cURL","text":"<pre><code># \u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG\ncurl -X POST http://localhost:8000/group \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"pdx\": \"J189\",\n    \"sdx\": [\"E119\", \"I10\"],\n    \"age\": 65,\n    \"sex\": \"M\",\n    \"los\": 5\n  }'\n\n# \u0e40\u0e1b\u0e23\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e35\u0e22\u0e1a versions\ncurl -X POST http://localhost:8000/group/compare \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"pdx\": \"J189\", \"los\": 5}'\n\n# Batch processing\ncurl -X POST http://localhost:8000/group/batch \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"cases\": [\n      {\"pdx\": \"J189\", \"los\": 5},\n      {\"pdx\": \"S82201D\", \"procedures\": [\"7936\"], \"los\": 7}\n    ]\n  }'\n</code></pre>"},{"location":"th/reference/grouper/","title":"\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23 Python API","text":"<p>\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e2d\u0e49\u0e32\u0e07\u0e2d\u0e34\u0e07\u0e09\u0e1a\u0e31\u0e1a\u0e2a\u0e21\u0e1a\u0e39\u0e23\u0e13\u0e4c\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a Thai DRG Grouper Python library</p>"},{"location":"th/reference/grouper/#classes","title":"Classes","text":""},{"location":"th/reference/grouper/#thaidrggroupermanager","title":"ThaiDRGGrouperManager","text":"<p>\u0e04\u0e25\u0e32\u0e2a\u0e2b\u0e25\u0e31\u0e01\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23 DRG \u0e2b\u0e25\u0e32\u0e22 versions</p> <pre><code>from thai_drg_grouper import ThaiDRGGrouperManager\n\nmanager = ThaiDRGGrouperManager(versions_dir='./data/versions')\n</code></pre>"},{"location":"th/reference/grouper/#constructor","title":"Constructor","text":"<pre><code>ThaiDRGGrouperManager(versions_dir: str = './data/versions')\n</code></pre> <p>\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c: - <code>versions_dir</code> (str): path \u0e44\u0e1b\u0e22\u0e31\u0e07\u0e42\u0e1f\u0e25\u0e40\u0e14\u0e2d\u0e23\u0e4c\u0e17\u0e35\u0e48\u0e40\u0e01\u0e47\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 DRG versions</p> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code># \u0e43\u0e0a\u0e49\u0e42\u0e1f\u0e25\u0e40\u0e14\u0e2d\u0e23\u0e4c\u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19\nmanager = ThaiDRGGrouperManager()\n\n# \u0e43\u0e0a\u0e49\u0e42\u0e1f\u0e25\u0e40\u0e14\u0e2d\u0e23\u0e4c\u0e17\u0e35\u0e48\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e40\u0e2d\u0e07\nmanager = ThaiDRGGrouperManager('/path/to/versions')\n</code></pre></p>"},{"location":"th/reference/grouper/#methods","title":"Methods","text":""},{"location":"th/reference/grouper/#group_latest","title":"group_latest()","text":"<p>\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG \u0e42\u0e14\u0e22\u0e43\u0e0a\u0e49 version \u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19/\u0e25\u0e48\u0e32\u0e2a\u0e38\u0e14</p> <pre><code>group_latest(\n    pdx: str,\n    sdx: Optional[List[str]] = None,\n    procedures: Optional[List[str]] = None,\n    age: int = 0,\n    sex: str = 'M',\n    los: int = 0,\n    discharge_status: str = '1',\n    admit_weight: int = 0,\n    type_in: str = 'I',\n    datetime_admit: Optional[str] = None,\n    datetime_disch: Optional[str] = None\n) -&gt; DRGResult\n</code></pre> <p>\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c: - <code>pdx</code> (str, \u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19): \u0e23\u0e2b\u0e31\u0e2a\u0e42\u0e23\u0e04\u0e2b\u0e25\u0e31\u0e01 (ICD-10-TM) - <code>sdx</code> (List[str], \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01): \u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e23\u0e2b\u0e31\u0e2a\u0e42\u0e23\u0e04\u0e23\u0e48\u0e27\u0e21 - <code>procedures</code> (List[str], \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01): \u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e23\u0e2b\u0e31\u0e2a\u0e2b\u0e31\u0e15\u0e16\u0e01\u0e32\u0e23 ICD-9-CM - <code>age</code> (int, \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01): \u0e2d\u0e32\u0e22\u0e38\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e40\u0e1b\u0e47\u0e19\u0e1b\u0e35 (default: 0) - <code>sex</code> (str, \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01): \u0e40\u0e1e\u0e28\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22 - 'M' \u0e2b\u0e23\u0e37\u0e2d 'F' (default: 'M') - <code>los</code> (int, \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01): \u0e27\u0e31\u0e19\u0e19\u0e2d\u0e19 (default: 0) - <code>discharge_status</code> (str, \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01): \u0e23\u0e2b\u0e31\u0e2a\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e08\u0e33\u0e2b\u0e19\u0e48\u0e32\u0e22 (default: '1') - <code>admit_weight</code> (int, \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01): \u0e19\u0e49\u0e33\u0e2b\u0e19\u0e31\u0e01\u0e41\u0e23\u0e01\u0e23\u0e31\u0e1a\u0e40\u0e1b\u0e47\u0e19\u0e01\u0e23\u0e31\u0e21 \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e17\u0e32\u0e23\u0e01 (default: 0) - <code>type_in</code> (str, \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01): \u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17 - 'I' (\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e43\u0e19) \u0e2b\u0e23\u0e37\u0e2d 'O' (\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\u0e19\u0e2d\u0e01) (default: 'I') - <code>datetime_admit</code> (str, \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01): \u0e27\u0e31\u0e19\u0e40\u0e27\u0e25\u0e32\u0e23\u0e31\u0e1a - <code>datetime_disch</code> (str, \u0e15\u0e31\u0e27\u0e40\u0e25\u0e37\u0e2d\u0e01): \u0e27\u0e31\u0e19\u0e40\u0e27\u0e25\u0e32\u0e08\u0e33\u0e2b\u0e19\u0e48\u0e32\u0e22</p> <p>\u0e04\u0e37\u0e19\u0e04\u0e48\u0e32: - <code>DRGResult</code>: \u0e1c\u0e25\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG</p> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code>result = manager.group_latest(\n    pdx='J189',\n    sdx=['E119', 'I10'],\n    age=65,\n    sex='M',\n    los=5\n)\nprint(f\"DRG: {result.drg}\")\nprint(f\"RW: {result.rw}\")\n</code></pre></p>"},{"location":"th/reference/grouper/#group","title":"group()","text":"<p>\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG \u0e42\u0e14\u0e22\u0e23\u0e30\u0e1a\u0e38 version \u0e40\u0e09\u0e1e\u0e32\u0e30</p> <pre><code>group(\n    version: str,\n    pdx: str,\n    sdx: Optional[List[str]] = None,\n    procedures: Optional[List[str]] = None,\n    age: int = 0,\n    sex: str = 'M',\n    los: int = 0,\n    discharge_status: str = '1',\n    admit_weight: int = 0,\n    type_in: str = 'I',\n    datetime_admit: Optional[str] = None,\n    datetime_disch: Optional[str] = None\n) -&gt; DRGResult\n</code></pre> <p>\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c: - <code>version</code> (str, \u0e08\u0e33\u0e40\u0e1b\u0e47\u0e19): DRG version \u0e17\u0e35\u0e48\u0e08\u0e30\u0e43\u0e0a\u0e49 (\u0e40\u0e0a\u0e48\u0e19 '6.3', '6.3.4') - \u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c\u0e2d\u0e37\u0e48\u0e19\u0e46: \u0e40\u0e2b\u0e21\u0e37\u0e2d\u0e19\u0e01\u0e31\u0e1a <code>group_latest()</code></p> <p>\u0e04\u0e37\u0e19\u0e04\u0e48\u0e32: - <code>DRGResult</code>: \u0e1c\u0e25\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG</p> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code># \u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21\u0e14\u0e49\u0e27\u0e22 version 6.3\nresult_v63 = manager.group('6.3', pdx='J189', los=5)\n\n# \u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21\u0e14\u0e49\u0e27\u0e22 version 6.3.4\nresult_v634 = manager.group('6.3.4', pdx='J189', los=5)\n</code></pre></p>"},{"location":"th/reference/grouper/#group_all_versions","title":"group_all_versions()","text":"<p>\u0e40\u0e1b\u0e23\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e35\u0e22\u0e1a\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG \u0e02\u0e49\u0e32\u0e21 versions \u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14</p> <pre><code>group_all_versions(\n    pdx: str,\n    sdx: Optional[List[str]] = None,\n    procedures: Optional[List[str]] = None,\n    age: int = 0,\n    sex: str = 'M',\n    los: int = 0,\n    discharge_status: str = '1',\n    admit_weight: int = 0,\n    type_in: str = 'I',\n    datetime_admit: Optional[str] = None,\n    datetime_disch: Optional[str] = None\n) -&gt; Dict[str, DRGResult]\n</code></pre> <p>\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c: - \u0e40\u0e2b\u0e21\u0e37\u0e2d\u0e19\u0e01\u0e31\u0e1a <code>group_latest()</code></p> <p>\u0e04\u0e37\u0e19\u0e04\u0e48\u0e32: - <code>Dict[str, DRGResult]</code>: Dictionary \u0e17\u0e35\u0e48\u0e21\u0e35 version \u0e40\u0e1b\u0e47\u0e19 key \u0e41\u0e25\u0e30\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\u0e40\u0e1b\u0e47\u0e19 value</p> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code>results = manager.group_all_versions(\n    pdx='J189',\n    sdx=['E119'],\n    los=5\n)\n\nfor version, result in results.items():\n    print(f\"{version}: DRG={result.drg}, RW={result.rw}\")\n</code></pre></p> <p>\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c: <pre><code>6.3: DRG=04102, RW=1.2345\n6.3.4: DRG=04102, RW=1.2500\n</code></pre></p>"},{"location":"th/reference/grouper/#list_versions","title":"list_versions()","text":"<p>\u0e14\u0e39\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23 DRG versions \u0e17\u0e35\u0e48\u0e21\u0e35</p> <pre><code>list_versions() -&gt; List[str]\n</code></pre> <p>\u0e04\u0e37\u0e19\u0e04\u0e48\u0e32: - <code>List[str]</code>: \u0e23\u0e32\u0e22\u0e01\u0e32\u0e23 version strings</p> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code>versions = manager.list_versions()\nprint(f\"Versions \u0e17\u0e35\u0e48\u0e21\u0e35: {versions}\")\n# \u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c: Versions \u0e17\u0e35\u0e48\u0e21\u0e35: ['6.3', '6.3.4']\n</code></pre></p>"},{"location":"th/reference/grouper/#get_default_version","title":"get_default_version()","text":"<p>\u0e14\u0e39 DRG version \u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19</p> <pre><code>get_default_version() -&gt; str\n</code></pre> <p>\u0e04\u0e37\u0e19\u0e04\u0e48\u0e32: - <code>str</code>: Default version string</p> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code>default = manager.get_default_version()\nprint(f\"Version \u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19: {default}\")\n# \u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c: Version \u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19: 6.3\n</code></pre></p>"},{"location":"th/reference/grouper/#thaidrggrouper","title":"ThaiDRGGrouper","text":"<p>\u0e04\u0e25\u0e32\u0e2a\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG version \u0e40\u0e14\u0e35\u0e22\u0e27</p> <pre><code>from thai_drg_grouper import ThaiDRGGrouper\n\ngrouper = ThaiDRGGrouper(version_dir='./data/versions/6.3')\n</code></pre>"},{"location":"th/reference/grouper/#constructor_1","title":"Constructor","text":"<pre><code>ThaiDRGGrouper(version_dir: str)\n</code></pre> <p>\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c: - <code>version_dir</code> (str): path \u0e44\u0e1b\u0e22\u0e31\u0e07\u0e42\u0e1f\u0e25\u0e40\u0e14\u0e2d\u0e23\u0e4c\u0e02\u0e2d\u0e07 version \u0e40\u0e09\u0e1e\u0e32\u0e30</p> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code>grouper = ThaiDRGGrouper('./data/versions/6.3')\n</code></pre></p>"},{"location":"th/reference/grouper/#methods_1","title":"Methods","text":""},{"location":"th/reference/grouper/#group_1","title":"group()","text":"<p>\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG \u0e23\u0e32\u0e22\u0e40\u0e14\u0e35\u0e22\u0e27</p> <pre><code>group(\n    pdx: str,\n    sdx: Optional[List[str]] = None,\n    procedures: Optional[List[str]] = None,\n    age: int = 0,\n    sex: str = 'M',\n    los: int = 0,\n    discharge_status: str = '1',\n    admit_weight: int = 0,\n    type_in: str = 'I',\n    datetime_admit: Optional[str] = None,\n    datetime_disch: Optional[str] = None\n) -&gt; DRGResult\n</code></pre> <p>\u0e1e\u0e32\u0e23\u0e32\u0e21\u0e34\u0e40\u0e15\u0e2d\u0e23\u0e4c: \u0e40\u0e2b\u0e21\u0e37\u0e2d\u0e19\u0e01\u0e31\u0e1a <code>ThaiDRGGrouperManager.group_latest()</code></p> <p>\u0e04\u0e37\u0e19\u0e04\u0e48\u0e32: - <code>DRGResult</code>: \u0e1c\u0e25\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG</p> <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code>grouper = ThaiDRGGrouper('./data/versions/6.3')\nresult = grouper.group(pdx='J189', los=5)\n</code></pre></p>"},{"location":"th/reference/grouper/#data-classes","title":"Data Classes","text":""},{"location":"th/reference/grouper/#drgresult","title":"DRGResult","text":"<p>Object \u0e17\u0e35\u0e48\u0e40\u0e01\u0e47\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1c\u0e25\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21 DRG</p> <p>Attributes:</p> Attribute \u0e0a\u0e19\u0e34\u0e14 \u0e04\u0e33\u0e2d\u0e18\u0e34\u0e1a\u0e32\u0e22 <code>drg</code> str \u0e23\u0e2b\u0e31\u0e2a DRG (5 \u0e2b\u0e25\u0e31\u0e01) <code>drg_name</code> str \u0e0a\u0e37\u0e48\u0e2d DRG \u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22 <code>mdc</code> str Major Diagnostic Category (2 \u0e2b\u0e25\u0e31\u0e01) <code>mdc_name</code> str \u0e0a\u0e37\u0e48\u0e2d MDC \u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22 <code>dc</code> str Disease Cluster (4 \u0e2b\u0e25\u0e31\u0e01) <code>dc_name</code> str \u0e0a\u0e37\u0e48\u0e2d DC \u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22 <code>rw</code> float Relative Weight (\u0e19\u0e49\u0e33\u0e2b\u0e19\u0e31\u0e01\u0e2a\u0e31\u0e21\u0e1e\u0e31\u0e17\u0e18\u0e4c) <code>rw0d</code> float RW \u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a day case <code>adjrw</code> float Adjusted RW (\u0e1b\u0e23\u0e31\u0e1a\u0e15\u0e32\u0e21\u0e27\u0e31\u0e19\u0e19\u0e2d\u0e19) <code>pcl</code> int Patient Complexity Level (0-4) <code>is_surgical</code> bool \u0e40\u0e1b\u0e47\u0e19 DRG \u0e1c\u0e48\u0e32\u0e15\u0e31\u0e14\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48 <code>los_status</code> str 'daycase', 'normal', \u0e2b\u0e23\u0e37\u0e2d 'long_stay' <code>version</code> str DRG version \u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49 <p>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07: <pre><code>result = manager.group_latest(pdx='J189', los=5)\n\n# \u0e40\u0e02\u0e49\u0e32\u0e16\u0e36\u0e07 attributes\nprint(f\"DRG: {result.drg}\")                    # 04102\nprint(f\"\u0e0a\u0e37\u0e48\u0e2d: {result.drg_name}\")              # \u0e42\u0e23\u0e04\u0e1b\u0e2d\u0e14...\nprint(f\"MDC: {result.mdc}\")                    # 04\nprint(f\"RW: {result.rw}\")                      # 1.2345\nprint(f\"Adjusted RW: {result.adjrw}\")          # 1.2345\nprint(f\"PCL: {result.pcl}\")                    # 1\nprint(f\"\u0e1c\u0e48\u0e32\u0e15\u0e31\u0e14: {result.is_surgical}\")         # False\nprint(f\"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e27\u0e31\u0e19\u0e19\u0e2d\u0e19: {result.los_status}\")     # normal\nprint(f\"Version: {result.version}\")            # 6.3\n</code></pre></p>"},{"location":"th/reference/grouper/#_1","title":"\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e41\u0e1a\u0e1a\u0e2a\u0e21\u0e1a\u0e39\u0e23\u0e13\u0e4c","text":""},{"location":"th/reference/grouper/#_2","title":"\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e1e\u0e37\u0e49\u0e19\u0e10\u0e32\u0e19","text":"<pre><code>from thai_drg_grouper import ThaiDRGGrouperManager\n\n# \u0e2a\u0e23\u0e49\u0e32\u0e07 manager\nmanager = ThaiDRGGrouperManager('./data/versions')\n\n# Case \u0e07\u0e48\u0e32\u0e22\u0e46\nresult = manager.group_latest(pdx='J189')\nprint(f\"DRG: {result.drg}, RW: {result.rw}\")\n\n# \u0e21\u0e35\u0e42\u0e23\u0e04\u0e23\u0e48\u0e27\u0e21\nresult = manager.group_latest(\n    pdx='J189',\n    sdx=['E119', 'I10'],\n    age=65,\n    sex='M',\n    los=5\n)\nprint(f\"DRG: {result.drg}, PCL: {result.pcl}\")\n</code></pre>"},{"location":"th/reference/grouper/#case","title":"Case \u0e1c\u0e48\u0e32\u0e15\u0e31\u0e14\u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e2b\u0e31\u0e15\u0e16\u0e01\u0e32\u0e23","text":"<pre><code># \u0e01\u0e23\u0e30\u0e14\u0e39\u0e01\u0e2b\u0e31\u0e01\u0e1e\u0e23\u0e49\u0e2d\u0e21\u0e1c\u0e48\u0e32\u0e15\u0e31\u0e14 ORIF\nresult = manager.group_latest(\n    pdx='S82201D',          # \u0e01\u0e23\u0e30\u0e14\u0e39\u0e01\u0e41\u0e02\u0e49\u0e07\u0e2b\u0e31\u0e01\n    sdx=['E119', 'I10'],    # \u0e40\u0e1a\u0e32\u0e2b\u0e27\u0e32\u0e19, \u0e04\u0e27\u0e32\u0e21\u0e14\u0e31\u0e19\u0e42\u0e25\u0e2b\u0e34\u0e15\u0e2a\u0e39\u0e07\n    procedures=['7936'],     # ORIF tibia/fibula\n    age=45,\n    sex='F',\n    los=7\n)\n\nprint(f\"DRG: {result.drg}\")              # 08172\nprint(f\"\u0e1c\u0e48\u0e32\u0e15\u0e31\u0e14: {result.is_surgical}\")   # True\nprint(f\"RW: {result.rw}\")                # 5.0602\n</code></pre>"},{"location":"th/reference/grouper/#versions","title":"\u0e40\u0e1b\u0e23\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e35\u0e22\u0e1a Versions","text":"<pre><code># \u0e40\u0e1b\u0e23\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e35\u0e22\u0e1a\u0e02\u0e49\u0e32\u0e21 versions\nresults = manager.group_all_versions(\n    pdx='J189',\n    sdx=['E119'],\n    los=5\n)\n\n# \u0e41\u0e2a\u0e14\u0e07\u0e1c\u0e25\u0e40\u0e1b\u0e23\u0e35\u0e22\u0e1a\u0e40\u0e17\u0e35\u0e22\u0e1a\nfor version, result in results.items():\n    print(f\"{version}: DRG={result.drg}, RW={result.rw}, PCL={result.pcl}\")\n</code></pre>"},{"location":"th/reference/grouper/#batch-processing","title":"Batch Processing","text":"<pre><code>import pandas as pd\n\n# \u0e2d\u0e48\u0e32\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e1c\u0e39\u0e49\u0e1b\u0e48\u0e27\u0e22\ndf = pd.read_csv('patients.csv')\n\n# \u0e1b\u0e23\u0e30\u0e21\u0e27\u0e25\u0e1c\u0e25\u0e17\u0e38\u0e01 case\nresults = []\nfor _, row in df.iterrows():\n    result = manager.group_latest(\n        pdx=row['pdx'],\n        sdx=row['sdx'].split(',') if pd.notna(row['sdx']) else [],\n        procedures=row['proc'].split(',') if pd.notna(row['proc']) else [],\n        age=row['age'],\n        sex=row['sex'],\n        los=row['los']\n    )\n    results.append({\n        'hn': row['hn'],\n        'drg': result.drg,\n        'drg_name': result.drg_name,\n        'rw': result.rw,\n        'adjrw': result.adjrw\n    })\n\n# \u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e1c\u0e25\u0e25\u0e31\u0e1e\u0e18\u0e4c\ndf_results = pd.DataFrame(results)\ndf_results.to_csv('drg_results.csv', index=False)\n</code></pre>"},{"location":"th/reference/grouper/#error","title":"\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23 Error","text":"<pre><code>from thai_drg_grouper import ThaiDRGGrouperManager\n\nmanager = ThaiDRGGrouperManager()\n\ntry:\n    # \u0e25\u0e2d\u0e07\u0e43\u0e0a\u0e49 version \u0e17\u0e35\u0e48\u0e44\u0e21\u0e48\u0e21\u0e35\n    result = manager.group('9.9', pdx='J189')\nexcept ValueError as e:\n    print(f\"Error: {e}\")\n    # \u0e43\u0e0a\u0e49 default version \u0e41\u0e17\u0e19\n    result = manager.group_latest(pdx='J189')\n\ntry:\n    # \u0e25\u0e2d\u0e07\u0e08\u0e31\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21\u0e42\u0e14\u0e22\u0e44\u0e21\u0e48\u0e21\u0e35 PDX\n    result = manager.group_latest(pdx='')\nexcept ValueError as e:\n    print(f\"Error: \u0e15\u0e49\u0e2d\u0e07\u0e23\u0e30\u0e1a\u0e38\u0e23\u0e2b\u0e31\u0e2a\u0e42\u0e23\u0e04\u0e2b\u0e25\u0e31\u0e01\")\n</code></pre>"},{"location":"th/reference/grouper/#_3","title":"\u0e01\u0e32\u0e23\u0e17\u0e33\u0e07\u0e32\u0e19\u0e01\u0e31\u0e1a\u0e17\u0e32\u0e23\u0e01\u0e41\u0e23\u0e01\u0e40\u0e01\u0e34\u0e14","text":"<pre><code># \u0e17\u0e32\u0e23\u0e01\u0e19\u0e49\u0e33\u0e2b\u0e19\u0e31\u0e01\u0e19\u0e49\u0e2d\u0e22\nresult = manager.group_latest(\n    pdx='P0700',           # \u0e19\u0e49\u0e33\u0e2b\u0e19\u0e31\u0e01\u0e19\u0e49\u0e2d\u0e22\u0e21\u0e32\u0e01\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e04\u0e25\u0e2d\u0e14\n    age=0,\n    sex='M',\n    los=15,\n    admit_weight=1500,     # 1500 \u0e01\u0e23\u0e31\u0e21\n    discharge_status='1'\n)\n\nprint(f\"DRG: {result.drg}\")\nprint(f\"PCL: {result.pcl}\")\n</code></pre>"},{"location":"th/reference/grouper/#day-case-vs","title":"Day Case vs \u0e27\u0e31\u0e19\u0e19\u0e2d\u0e19\u0e22\u0e32\u0e27","text":"<pre><code># Day case (LOS = 0)\nresult_day = manager.group_latest(pdx='K358', los=0)\nprint(f\"Day case RW: {result_day.rw0d}\")\nprint(f\"\u0e2a\u0e16\u0e32\u0e19\u0e30: {result_day.los_status}\")  # daycase\n\n# \u0e27\u0e31\u0e19\u0e19\u0e2d\u0e19\u0e1b\u0e01\u0e15\u0e34\nresult_normal = manager.group_latest(pdx='K358', los=3)\nprint(f\"Normal RW: {result_normal.rw}\")\nprint(f\"\u0e2a\u0e16\u0e32\u0e19\u0e30: {result_normal.los_status}\")  # normal\n\n# \u0e27\u0e31\u0e19\u0e19\u0e2d\u0e19\u0e22\u0e32\u0e27\nresult_long = manager.group_latest(pdx='K358', los=20)\nprint(f\"Adjusted RW: {result_long.adjrw}\")\nprint(f\"\u0e2a\u0e16\u0e32\u0e19\u0e30: {result_long.los_status}\")  # long_stay\n</code></pre>"},{"location":"th/reference/grouper/#type-hints","title":"Type Hints","text":"<p>Library \u0e23\u0e2d\u0e07\u0e23\u0e31\u0e1a type hints \u0e40\u0e15\u0e47\u0e21\u0e23\u0e39\u0e1b\u0e41\u0e1a\u0e1a\u0e2a\u0e33\u0e2b\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19\u0e01\u0e31\u0e1a IDE:</p> <pre><code>from typing import Optional, List, Dict\nfrom thai_drg_grouper import ThaiDRGGrouperManager, DRGResult\n\nmanager: ThaiDRGGrouperManager = ThaiDRGGrouperManager()\nresult: DRGResult = manager.group_latest(pdx='J189')\nversions: List[str] = manager.list_versions()\nall_results: Dict[str, DRGResult] = manager.group_all_versions(pdx='J189')\n</code></pre>"},{"location":"th/reference/grouper/#_4","title":"\u0e14\u0e39\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21","text":"<ul> <li>\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23 REST API - \u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23 HTTP API</li> <li>\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e01\u0e32\u0e23\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 - \u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e42\u0e14\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21</li> <li>\u0e01\u0e32\u0e23\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07 - \u0e27\u0e34\u0e18\u0e35\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e41\u0e25\u0e30\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32</li> </ul>"}]}